LavaPack.loadBundle([[785,{"./helpers/bind":766},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=e("./helpers/bind"),s=Object.prototype.toString,i=(n=Object.create(null),function(e){var t=s.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var u=a("ArrayBuffer");function d(e){return"number"==typeof e}function f(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),g=a("File"),m=a("Blob"),E=a("FileList");function _(e){return"[object Function]"===s.call(e)}var b=a("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var v,w=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return v&&e instanceof v});var T,A=a("HTMLFormElement"),C=(T=Object.prototype.hasOwnProperty,function(e,t){return T.call(e,t)});t.exports={isArray:c,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||s.call(e)===t||_(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:d,isObject:f,isPlainObject:h,isEmptyObject:function(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isUndefined:l,isDate:p,isFile:g,isBlob:m,isFunction:_,isStream:function(e){return f(e)&&_(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){var e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:y,merge:function e(){var t={};function r(r,n){h(t[n])&&h(r)?t[n]=e(t[n],r):h(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)y(arguments[n],r);return t},extend:function(e,t,r){return y(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var o,s,i,a={};if(t=t||{},null==e)return t;do{for(s=(o=Object.getOwnPropertyNames(e)).length;s-- >0;)i=o[s],n&&!n(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==r&&Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(r===undefined||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(c(e))return e;var t=e.length;if(!d(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:E,forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var o=r.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:A,hasOwnProperty:C}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/domain-service>axios",file:"node_modules/@ledgerhq/domain-service/node_modules/axios/lib/utils.js"}],[786,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.serializeError=r.deserializeError=r.createCustomErrorClass=r.addCustomErrorDeserializer=void 0;const n={},o={};r.addCustomErrorDeserializer=(e,t)=>{o[e]=t};r.createCustomErrorClass=e=>{class t extends Error{constructor(r,n,o){if(super(r||e,o),Object.setPrototypeOf(this,t.prototype),this.name=e,n)for(const e in n)this[e]=n[e];if(o&&"object"==typeof o&&"cause"in o&&!("cause"in this)){const e=o.cause;this.cause=e,"stack"in e&&(this.stack=this.stack+"\nCAUSE: "+e.stack)}}}return n[e]=t,t};r.deserializeError=e=>{if(e&&"object"==typeof e){try{if("string"==typeof e.message){const t=JSON.parse(e.message);t.message&&t.name&&(e=t)}}catch(e){}let t;if("string"==typeof e.name){const{name:s}=e,i=o[s];if(i)t=i(e);else{let o="Error"===s?Error:n[s];o||(console.warn("deserializing an unknown class '"+s+"'"),o=(0,r.createCustomErrorClass)(s)),t=Object.create(o.prototype);try{for(const r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}catch(e){}}}else"string"==typeof e.message&&(t=new Error(e.message));return t&&!t.stack&&Error.captureStackTrace&&Error.captureStackTrace(t,r.deserializeError),t}return new Error(String(e))};function s(e,t){const r={};t.push(e);for(const n of Object.keys(e)){const o=e[n];"function"!=typeof o&&(o&&"object"==typeof o?-1!==t.indexOf(e[n])?r[n]="[Circular]":r[n]=s(e[n],t.slice(0)):r[n]=o)}return"string"==typeof e.name&&(r.name=e.name),"string"==typeof e.message&&(r.message=e.message),"string"==typeof e.stack&&(r.stack=e.stack),r}r.serializeError=e=>e?"object"==typeof e?s(e,[]):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e:e}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/errors",file:"node_modules/@ledgerhq/errors/lib/helpers.js"}],[787,{"./helpers":786},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ManagerFirmwareNotEnoughSpaceError=r.ManagerDeviceLockedError=r.ManagerAppDepUninstallRequired=r.ManagerAppDepInstallRequired=r.ManagerAppRelyOnBTCError=r.ManagerAppAlreadyInstalledError=r.LedgerAPINotAvailable=r.LedgerAPIErrorWithMessage=r.LedgerAPIError=r.UnknownMCU=r.LatestMCUInstalledError=r.InvalidAddressBecauseDestinationIsAlsoSource=r.InvalidNonce=r.InvalidAddress=r.InvalidXRPTag=r.HardResetFail=r.FirmwareNotRecognized=r.FeeEstimationFailed=r.EthAppPleaseEnableContractData=r.EnpointConfigError=r.DeviceOnboardingStatePollingError=r.DeviceExtractOnboardingStateError=r.DisconnectedDeviceDuringOperation=r.DisconnectedDevice=r.UnresponsiveDeviceError=r.DeviceNeedsRestart=r.DeviceSocketNoBulkStatus=r.DeviceSocketFail=r.DeviceNameInvalid=r.DeviceHalted=r.DeviceInOSUExpected=r.DeviceOnDashboardUnexpected=r.DeviceOnDashboardExpected=r.DeviceNotGenuineError=r.DeviceGenuineSocketEarlyClose=r.DeviceAppVerifyNotSupported=r.CurrencyNotSupported=r.ClaimRewardsFeesWarning=r.CashAddrNotSupported=r.CantOpenDevice=r.BtcUnmatchedApp=r.BluetoothRequired=r.AmountRequired=r.AccountAwaitingSendPendingOperations=r.AccountNotSupported=r.AccountNameRequiredError=r.addCustomErrorDeserializer=r.createCustomErrorClass=r.deserializeError=r.serializeError=void 0,r.DeviceShouldStayInApp=r.TransportExchangeTimeoutError=r.TransactionHasBeenValidatedError=r.TransportWebUSBGestureRequired=r.TransportRaceCondition=r.TransportInterfaceNotAvailable=r.TransportOpenUserCancelled=r.ExpertModeRequired=r.PinNotSet=r.UserRefusedOnDevice=r.UserRefusedAllowManager=r.UserRefusedFirmwareUpdate=r.UserRefusedAddress=r.UserRefusedDeviceNameChange=r.UpdateYourApp=r.UpdateIncorrectSig=r.UpdateIncorrectHash=r.UpdateFetchFileFail=r.UnavailableTezosOriginatedAccountSend=r.UnavailableTezosOriginatedAccountReceive=r.RecipientRequired=r.MCUNotGenuineToDashboard=r.UnexpectedBootloader=r.TimeoutTagged=r.RecommendUndelegation=r.RecommendSubAccountsToEmpty=r.PasswordIncorrectError=r.PasswordsDontMatchError=r.MaxFeeTooLow=r.PriorityFeeHigherThanMaxFee=r.PriorityFeeTooHigh=r.PriorityFeeTooLow=r.GasLessThanEstimate=r.NotSupportedLegacyAddress=r.MaybeKeepTronAccountAlive=r.TronEmptyAccount=r.NotEnoughGasSwap=r.NotEnoughGas=r.NoAccessToCamera=r.NotEnoughBalanceBecauseDestinationNotCreated=r.NotEnoughSpendableBalance=r.NotEnoughBalanceInParentAccount=r.NotEnoughBalanceToDelegate=r.NotEnoughBalanceSwap=r.NotEnoughBalance=r.NoAddressesFound=r.NetworkError=r.NetworkDown=r.ManagerUninstallBTCDep=r.ManagerNotEnoughSpaceError=void 0,r.LockedDeviceError=r.TransportStatusError=r.getAltStatusMessage=r.StatusCodes=r.TransportError=r.HwTransportError=r.HwTransportErrorType=r.DisabledTransactionBroadcastError=r.SequenceNumberError=r.DBNotReset=r.DBWrongPassword=r.NoDBPathGiven=r.LanguageNotFound=r.DustLimit=r.OpReturnDataSizeLimit=r.ReplacementTransactionUnderpriced=r.FirmwareOrAppUpdateRequired=r.LedgerAPI5xx=r.LedgerAPI4xx=r.GenuineCheckFailed=r.PeerRemovedPairing=r.PairingFailed=r.SyncError=r.PendingOperation=r.FeeTooHigh=r.FeeRequired=r.FeeNotLoadedSwap=r.FeeNotLoaded=r.CantScanQRCode=r.ETHAddressNonEIP=r.WrongAppForCurrency=r.WrongDeviceForAccountRefund=r.WrongDeviceForAccountPayout=r.WrongDeviceForAccount=r.WebsocketConnectionFailed=r.WebsocketConnectionError=void 0;const n=e("./helpers");var o;Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(r,"deserializeError",{enumerable:!0,get:function(){return n.deserializeError}}),Object.defineProperty(r,"createCustomErrorClass",{enumerable:!0,get:function(){return n.createCustomErrorClass}}),Object.defineProperty(r,"addCustomErrorDeserializer",{enumerable:!0,get:function(){return n.addCustomErrorDeserializer}}),r.AccountNameRequiredError=(0,n.createCustomErrorClass)("AccountNameRequired"),r.AccountNotSupported=(0,n.createCustomErrorClass)("AccountNotSupported"),r.AccountAwaitingSendPendingOperations=(0,n.createCustomErrorClass)("AccountAwaitingSendPendingOperations"),r.AmountRequired=(0,n.createCustomErrorClass)("AmountRequired"),r.BluetoothRequired=(0,n.createCustomErrorClass)("BluetoothRequired"),r.BtcUnmatchedApp=(0,n.createCustomErrorClass)("BtcUnmatchedApp"),r.CantOpenDevice=(0,n.createCustomErrorClass)("CantOpenDevice"),r.CashAddrNotSupported=(0,n.createCustomErrorClass)("CashAddrNotSupported"),r.ClaimRewardsFeesWarning=(0,n.createCustomErrorClass)("ClaimRewardsFeesWarning"),r.CurrencyNotSupported=(0,n.createCustomErrorClass)("CurrencyNotSupported"),r.DeviceAppVerifyNotSupported=(0,n.createCustomErrorClass)("DeviceAppVerifyNotSupported"),r.DeviceGenuineSocketEarlyClose=(0,n.createCustomErrorClass)("DeviceGenuineSocketEarlyClose"),r.DeviceNotGenuineError=(0,n.createCustomErrorClass)("DeviceNotGenuine"),r.DeviceOnDashboardExpected=(0,n.createCustomErrorClass)("DeviceOnDashboardExpected"),r.DeviceOnDashboardUnexpected=(0,n.createCustomErrorClass)("DeviceOnDashboardUnexpected"),r.DeviceInOSUExpected=(0,n.createCustomErrorClass)("DeviceInOSUExpected"),r.DeviceHalted=(0,n.createCustomErrorClass)("DeviceHalted"),r.DeviceNameInvalid=(0,n.createCustomErrorClass)("DeviceNameInvalid"),r.DeviceSocketFail=(0,n.createCustomErrorClass)("DeviceSocketFail"),r.DeviceSocketNoBulkStatus=(0,n.createCustomErrorClass)("DeviceSocketNoBulkStatus"),r.DeviceNeedsRestart=(0,n.createCustomErrorClass)("DeviceSocketNoBulkStatus"),r.UnresponsiveDeviceError=(0,n.createCustomErrorClass)("UnresponsiveDeviceError"),r.DisconnectedDevice=(0,n.createCustomErrorClass)("DisconnectedDevice"),r.DisconnectedDeviceDuringOperation=(0,n.createCustomErrorClass)("DisconnectedDeviceDuringOperation"),r.DeviceExtractOnboardingStateError=(0,n.createCustomErrorClass)("DeviceExtractOnboardingStateError"),r.DeviceOnboardingStatePollingError=(0,n.createCustomErrorClass)("DeviceOnboardingStatePollingError"),r.EnpointConfigError=(0,n.createCustomErrorClass)("EnpointConfig"),r.EthAppPleaseEnableContractData=(0,n.createCustomErrorClass)("EthAppPleaseEnableContractData"),r.FeeEstimationFailed=(0,n.createCustomErrorClass)("FeeEstimationFailed"),r.FirmwareNotRecognized=(0,n.createCustomErrorClass)("FirmwareNotRecognized"),r.HardResetFail=(0,n.createCustomErrorClass)("HardResetFail"),r.InvalidXRPTag=(0,n.createCustomErrorClass)("InvalidXRPTag"),r.InvalidAddress=(0,n.createCustomErrorClass)("InvalidAddress"),r.InvalidNonce=(0,n.createCustomErrorClass)("InvalidNonce"),r.InvalidAddressBecauseDestinationIsAlsoSource=(0,n.createCustomErrorClass)("InvalidAddressBecauseDestinationIsAlsoSource"),r.LatestMCUInstalledError=(0,n.createCustomErrorClass)("LatestMCUInstalledError"),r.UnknownMCU=(0,n.createCustomErrorClass)("UnknownMCU"),r.LedgerAPIError=(0,n.createCustomErrorClass)("LedgerAPIError"),r.LedgerAPIErrorWithMessage=(0,n.createCustomErrorClass)("LedgerAPIErrorWithMessage"),r.LedgerAPINotAvailable=(0,n.createCustomErrorClass)("LedgerAPINotAvailable"),r.ManagerAppAlreadyInstalledError=(0,n.createCustomErrorClass)("ManagerAppAlreadyInstalled"),r.ManagerAppRelyOnBTCError=(0,n.createCustomErrorClass)("ManagerAppRelyOnBTC"),r.ManagerAppDepInstallRequired=(0,n.createCustomErrorClass)("ManagerAppDepInstallRequired"),r.ManagerAppDepUninstallRequired=(0,n.createCustomErrorClass)("ManagerAppDepUninstallRequired"),r.ManagerDeviceLockedError=(0,n.createCustomErrorClass)("ManagerDeviceLocked"),r.ManagerFirmwareNotEnoughSpaceError=(0,n.createCustomErrorClass)("ManagerFirmwareNotEnoughSpace"),r.ManagerNotEnoughSpaceError=(0,n.createCustomErrorClass)("ManagerNotEnoughSpace"),r.ManagerUninstallBTCDep=(0,n.createCustomErrorClass)("ManagerUninstallBTCDep"),r.NetworkDown=(0,n.createCustomErrorClass)("NetworkDown"),r.NetworkError=(0,n.createCustomErrorClass)("NetworkError"),r.NoAddressesFound=(0,n.createCustomErrorClass)("NoAddressesFound"),r.NotEnoughBalance=(0,n.createCustomErrorClass)("NotEnoughBalance"),r.NotEnoughBalanceSwap=(0,n.createCustomErrorClass)("NotEnoughBalanceSwap"),r.NotEnoughBalanceToDelegate=(0,n.createCustomErrorClass)("NotEnoughBalanceToDelegate"),r.NotEnoughBalanceInParentAccount=(0,n.createCustomErrorClass)("NotEnoughBalanceInParentAccount"),r.NotEnoughSpendableBalance=(0,n.createCustomErrorClass)("NotEnoughSpendableBalance"),r.NotEnoughBalanceBecauseDestinationNotCreated=(0,n.createCustomErrorClass)("NotEnoughBalanceBecauseDestinationNotCreated"),r.NoAccessToCamera=(0,n.createCustomErrorClass)("NoAccessToCamera"),r.NotEnoughGas=(0,n.createCustomErrorClass)("NotEnoughGas"),r.NotEnoughGasSwap=(0,n.createCustomErrorClass)("NotEnoughGasSwap"),r.TronEmptyAccount=(0,n.createCustomErrorClass)("TronEmptyAccount"),r.MaybeKeepTronAccountAlive=(0,n.createCustomErrorClass)("MaybeKeepTronAccountAlive"),r.NotSupportedLegacyAddress=(0,n.createCustomErrorClass)("NotSupportedLegacyAddress"),r.GasLessThanEstimate=(0,n.createCustomErrorClass)("GasLessThanEstimate"),r.PriorityFeeTooLow=(0,n.createCustomErrorClass)("PriorityFeeTooLow"),r.PriorityFeeTooHigh=(0,n.createCustomErrorClass)("PriorityFeeTooHigh"),r.PriorityFeeHigherThanMaxFee=(0,n.createCustomErrorClass)("PriorityFeeHigherThanMaxFee"),r.MaxFeeTooLow=(0,n.createCustomErrorClass)("MaxFeeTooLow"),r.PasswordsDontMatchError=(0,n.createCustomErrorClass)("PasswordsDontMatch"),r.PasswordIncorrectError=(0,n.createCustomErrorClass)("PasswordIncorrect"),r.RecommendSubAccountsToEmpty=(0,n.createCustomErrorClass)("RecommendSubAccountsToEmpty"),r.RecommendUndelegation=(0,n.createCustomErrorClass)("RecommendUndelegation"),r.TimeoutTagged=(0,n.createCustomErrorClass)("TimeoutTagged"),r.UnexpectedBootloader=(0,n.createCustomErrorClass)("UnexpectedBootloader"),r.MCUNotGenuineToDashboard=(0,n.createCustomErrorClass)("MCUNotGenuineToDashboard"),r.RecipientRequired=(0,n.createCustomErrorClass)("RecipientRequired"),r.UnavailableTezosOriginatedAccountReceive=(0,n.createCustomErrorClass)("UnavailableTezosOriginatedAccountReceive"),r.UnavailableTezosOriginatedAccountSend=(0,n.createCustomErrorClass)("UnavailableTezosOriginatedAccountSend"),r.UpdateFetchFileFail=(0,n.createCustomErrorClass)("UpdateFetchFileFail"),r.UpdateIncorrectHash=(0,n.createCustomErrorClass)("UpdateIncorrectHash"),r.UpdateIncorrectSig=(0,n.createCustomErrorClass)("UpdateIncorrectSig"),r.UpdateYourApp=(0,n.createCustomErrorClass)("UpdateYourApp"),r.UserRefusedDeviceNameChange=(0,n.createCustomErrorClass)("UserRefusedDeviceNameChange"),r.UserRefusedAddress=(0,n.createCustomErrorClass)("UserRefusedAddress"),r.UserRefusedFirmwareUpdate=(0,n.createCustomErrorClass)("UserRefusedFirmwareUpdate"),r.UserRefusedAllowManager=(0,n.createCustomErrorClass)("UserRefusedAllowManager"),r.UserRefusedOnDevice=(0,n.createCustomErrorClass)("UserRefusedOnDevice"),r.PinNotSet=(0,n.createCustomErrorClass)("PinNotSet"),r.ExpertModeRequired=(0,n.createCustomErrorClass)("ExpertModeRequired"),r.TransportOpenUserCancelled=(0,n.createCustomErrorClass)("TransportOpenUserCancelled"),r.TransportInterfaceNotAvailable=(0,n.createCustomErrorClass)("TransportInterfaceNotAvailable"),r.TransportRaceCondition=(0,n.createCustomErrorClass)("TransportRaceCondition"),r.TransportWebUSBGestureRequired=(0,n.createCustomErrorClass)("TransportWebUSBGestureRequired"),r.TransactionHasBeenValidatedError=(0,n.createCustomErrorClass)("TransactionHasBeenValidatedError"),r.TransportExchangeTimeoutError=(0,n.createCustomErrorClass)("TransportExchangeTimeoutError"),r.DeviceShouldStayInApp=(0,n.createCustomErrorClass)("DeviceShouldStayInApp"),r.WebsocketConnectionError=(0,n.createCustomErrorClass)("WebsocketConnectionError"),r.WebsocketConnectionFailed=(0,n.createCustomErrorClass)("WebsocketConnectionFailed"),r.WrongDeviceForAccount=(0,n.createCustomErrorClass)("WrongDeviceForAccount"),r.WrongDeviceForAccountPayout=(0,n.createCustomErrorClass)("WrongDeviceForAccountPayout"),r.WrongDeviceForAccountRefund=(0,n.createCustomErrorClass)("WrongDeviceForAccountRefund"),r.WrongAppForCurrency=(0,n.createCustomErrorClass)("WrongAppForCurrency"),r.ETHAddressNonEIP=(0,n.createCustomErrorClass)("ETHAddressNonEIP"),r.CantScanQRCode=(0,n.createCustomErrorClass)("CantScanQRCode"),r.FeeNotLoaded=(0,n.createCustomErrorClass)("FeeNotLoaded"),r.FeeNotLoadedSwap=(0,n.createCustomErrorClass)("FeeNotLoadedSwap"),r.FeeRequired=(0,n.createCustomErrorClass)("FeeRequired"),r.FeeTooHigh=(0,n.createCustomErrorClass)("FeeTooHigh"),r.PendingOperation=(0,n.createCustomErrorClass)("PendingOperation"),r.SyncError=(0,n.createCustomErrorClass)("SyncError"),r.PairingFailed=(0,n.createCustomErrorClass)("PairingFailed"),r.PeerRemovedPairing=(0,n.createCustomErrorClass)("PeerRemovedPairing"),r.GenuineCheckFailed=(0,n.createCustomErrorClass)("GenuineCheckFailed"),r.LedgerAPI4xx=(0,n.createCustomErrorClass)("LedgerAPI4xx"),r.LedgerAPI5xx=(0,n.createCustomErrorClass)("LedgerAPI5xx"),r.FirmwareOrAppUpdateRequired=(0,n.createCustomErrorClass)("FirmwareOrAppUpdateRequired"),r.ReplacementTransactionUnderpriced=(0,n.createCustomErrorClass)("ReplacementTransactionUnderpriced"),r.OpReturnDataSizeLimit=(0,n.createCustomErrorClass)("OpReturnSizeLimit"),r.DustLimit=(0,n.createCustomErrorClass)("DustLimit"),r.LanguageNotFound=(0,n.createCustomErrorClass)("LanguageNotFound"),r.NoDBPathGiven=(0,n.createCustomErrorClass)("NoDBPathGiven"),r.DBWrongPassword=(0,n.createCustomErrorClass)("DBWrongPassword"),r.DBNotReset=(0,n.createCustomErrorClass)("DBNotReset"),r.SequenceNumberError=(0,n.createCustomErrorClass)("SequenceNumberError"),r.DisabledTransactionBroadcastError=(0,n.createCustomErrorClass)("DisabledTransactionBroadcastError"),function(e){e.Unknown="Unknown",e.LocationServicesDisabled="LocationServicesDisabled",e.LocationServicesUnauthorized="LocationServicesUnauthorized",e.BluetoothScanStartFailed="BluetoothScanStartFailed"}(o||(r.HwTransportErrorType=o={}));class s extends Error{constructor(e,t){super(t),this.name="HwTransportError",this.type=e,Object.setPrototypeOf(this,s.prototype)}}r.HwTransportError=s;class i extends Error{constructor(e,t){const r="TransportError";super(e||r),this.name=r,this.message=e,this.stack=new Error(e).stack,this.id=t}}function a(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}r.TransportError=i,(0,n.addCustomErrorDeserializer)("TransportError",(e=>new i(e.message,e.id))),r.StatusCodes={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063},r.getAltStatusMessage=a;class c extends Error{constructor(e,{canBeMappedToChildError:t=!0}={}){const n=Object.keys(r.StatusCodes).find((t=>r.StatusCodes[t]===e))||"UNKNOWN_ERROR",o=`Ledger device: ${a(e)||n} (0x${e.toString(16)})`;if(super(o),this.name="TransportStatusError",this.statusCode=e,this.statusText=n,Object.setPrototypeOf(this,c.prototype),t&&e===r.StatusCodes.LOCKED_DEVICE)return new l(o)}}r.TransportStatusError=c;class l extends c{constructor(e){super(r.StatusCodes.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,l.prototype)}}r.LockedDeviceError=l,(0,n.addCustomErrorDeserializer)("TransportStatusError",(e=>new c(e.statusCode)))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/errors",file:"node_modules/@ledgerhq/errors/lib/index.js"}],[788,{"@ethersproject/constants":526,"@ethersproject/hash":535,"@ledgerhq/cryptoassets-evm-signatures/lib/data/eip712":682,"@ledgerhq/cryptoassets-evm-signatures/lib/data/eip712_v2":685,"@ledgerhq/live-env":885,axios:791,"crypto-js/sha224":4168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getEIP712FieldsDisplayedOnNano=r.getValueFromPath=r.getFiltersForMessage=r.getSchemaHashForMessage=r.sortObjectAlphabetically=r.isEIP712Message=void 0;const i=s(e("axios")),a=s(e("crypto-js/sha224")),c=e("@ledgerhq/live-env"),l=e("@ethersproject/constants"),u=e("@ethersproject/hash"),d=s(e("@ledgerhq/cryptoassets-evm-signatures/lib/data/eip712")),f=s(e("@ledgerhq/cryptoassets-evm-signatures/lib/data/eip712_v2"));function h(e){return!!e&&"object"==typeof e&&"types"in e&&"primaryType"in e&&"domain"in e&&"message"in e}r.isEIP712Message=h;r.sortObjectAlphabetically=e=>Object.keys(e).sort().reduce(((t,n)=>{const o=Array.isArray(e[n])?e[n].map((e=>(0,r.sortObjectAlphabetically)(e))):e[n];return t[n]=o,t}),{});r.getSchemaHashForMessage=e=>{const{types:t}=e,n=(0,r.sortObjectAlphabetically)(t);return(0,a.default)(JSON.stringify(n).replace(" ","")).toString()};r.getFiltersForMessage=(e,t,o)=>n(void 0,void 0,void 0,(function*(){var n,s,a,c,u,h,p,g;const m=(0,r.getSchemaHashForMessage)(e),E=(null===(s=null===(n=e.domain)||void 0===n?void 0:n.verifyingContract)||void 0===s?void 0:s.toLowerCase())||l.AddressZero;try{if(o){const{data:r}=yield i.default.get(`${o}/v1/dapps`,{params:{output:"eip712_signatures",eip712_signatures_version:t?"v1":"v2",chain_id:null===(a=e.domain)||void 0===a?void 0:a.chainId,contracts:E}}),n=null===(h=null===(u=null===(c=null==r?void 0:r[0])||void 0===c?void 0:c.eip712_signatures)||void 0===u?void 0:u[E])||void 0===h?void 0:h[m];if(!n)throw new Error("Fallback to static file");return n}throw new Error("Fallback to static file")}catch(r){const n=`${null!==(g=null===(p=e.domain)||void 0===p?void 0:p.chainId)&&void 0!==g?g:0}:${E}:${m}`;return t?d.default[n]:f.default[n]}}));const p=(e,t)=>{if("object"==typeof t){if(Array.isArray(t))return t.map((t=>p(e,t))).flat();if(!(e in t))throw new Error(`Could not find key ${e} in ${JSON.stringify(t)} `);const r=t[e];return"object"==typeof r?r:r.toString()}return t.toString()};r.getValueFromPath=(e,t)=>{const r=e.split("."),{message:n}=t;let o=n;for(let e=0;e<=r.length-1;e++){const t=r[e],n=e>=r.length-1;("[]"!==t||n)&&(o=p(t,o))}if(o===n)throw new Error("getValueFromPath returned the whole original message");return o};r.getEIP712FieldsDisplayedOnNano=(e,...t)=>n(void 0,[e,...t],void 0,(function*(e,t=(0,c.getEnv)("CAL_SERVICE_URL")){if(!h(e))return null;const n=e.types,{EIP712Domain:s}=n,i=o(n,["EIP712Domain"]),a=[],l=yield(0,r.getFiltersForMessage)(e,!1,t);if(!l){const{types:t}=e,r=t.EIP712Domain.map((({name:e})=>e));return r.includes("name")&&e.domain.name&&a.push({label:"name",value:e.domain.name}),r.includes("version")&&e.domain.version&&a.push({label:"version",value:e.domain.version}),r.includes("chainId")&&e.domain.chainId&&a.push({label:"chainId",value:e.domain.chainId.toString()}),r.includes("verifyingContract")&&e.domain.verifyingContract&&a.push({label:"verifyingContract",value:e.domain.verifyingContract.toString()}),r.includes("salt")&&e.domain.salt&&a.push({label:"salt",value:e.domain.salt.toString()}),a.push({label:"Message hash",value:u._TypedDataEncoder.hashStruct(e.primaryType,i,e.message)}),a}const{contractName:d,fields:f}=l;d&&d.label&&a.push({label:"Contract",value:d.label});for(const t of f)a.push({label:t.label,value:(0,r.getValueFromPath)(t.path,e)});return a}))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools",file:"node_modules/@ledgerhq/evm-tools/lib/message/EIP712/index.js"}],[789,{"./EIP712":788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./EIP712"),r)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools",file:"node_modules/@ledgerhq/evm-tools/lib/message/index.js"}],[790,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o,s;Object.defineProperty(r,"__esModule",{value:!0}),r.ERC1155_CLEAR_SIGNED_SELECTORS=r.ERC721_CLEAR_SIGNED_SELECTORS=r.ERC20_CLEAR_SIGNED_SELECTORS=void 0,function(e){e.APPROVE="0x095ea7b3",e.TRANSFER="0xa9059cbb"}(n||(r.ERC20_CLEAR_SIGNED_SELECTORS=n={})),function(e){e.APPROVE="0x095ea7b3",e.SET_APPROVAL_FOR_ALL="0xa22cb465",e.TRANSFER_FROM="0x23b872dd",e.SAFE_TRANSFER_FROM="0x42842e0e",e.SAFE_TRANSFER_FROM_WITH_DATA="0xb88d4fde"}(o||(r.ERC721_CLEAR_SIGNED_SELECTORS=o={})),function(e){e.SET_APPROVAL_FOR_ALL="0xa22cb465",e.SAFE_TRANSFER_FROM="0xf242432a",e.SAFE_BATCH_TRANSFER_FROM="0x2eb2c2d6"}(s||(r.ERC1155_CLEAR_SIGNED_SELECTORS=s={})),r.default={ERC20_CLEAR_SIGNED_SELECTORS:n,ERC721_CLEAR_SIGNED_SELECTORS:o,ERC1155_CLEAR_SIGNED_SELECTORS:s}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools",file:"node_modules/@ledgerhq/evm-tools/lib/selectors/index.js"}],[791,{"./lib/axios":793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/axios")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/index.js"}],[792,{"../cancel/CanceledError":795,"../core/AxiosError":798,"../core/buildFullPath":800,"../defaults/transitional":806,"../helpers/parseProtocol":820,"../platform":828,"./../core/settle":803,"./../helpers/buildURL":811,"./../helpers/cookies":813,"./../helpers/isURLSameOrigin":817,"./../helpers/parseHeaders":819,"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("./../core/settle"),s=e("./../helpers/cookies"),i=e("./../helpers/buildURL"),a=e("../core/buildFullPath"),c=e("./../helpers/parseHeaders"),l=e("./../helpers/isURLSameOrigin"),u=e("../defaults/transitional"),d=e("../core/AxiosError"),f=e("../cancel/CanceledError"),h=e("../helpers/parseProtocol"),p=e("../platform");t.exports=function(e){return new Promise((function(t,r){var g,m=e.data,E=e.headers,_=e.responseType,b=e.withXSRFToken;function y(){e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g)}n.isFormData(m)&&n.isStandardBrowserEnv()&&delete E["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",T=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";E.Authorization="Basic "+btoa(w+":"+T)}var A=a(e.baseURL,e.url);function C(){if(v){var n="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,s={data:_&&"text"!==_&&"json"!==_?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};o((function(e){t(e),y()}),(function(e){r(e),y()}),s),v=null}}if(v.open(e.method.toUpperCase(),i(A,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(C)},v.onabort=function(){v&&(r(new d("Request aborted",d.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new d("Network Error",d.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new d(t,n.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,v)),v=null},n.isStandardBrowserEnv()&&(b&&n.isFunction(b)&&(b=b(e)),b||!1!==b&&l(A))){var S=e.xsrfHeaderName&&e.xsrfCookieName&&s.read(e.xsrfCookieName);S&&(E[e.xsrfHeaderName]=S)}"setRequestHeader"in v&&n.forEach(E,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete E[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),_&&"json"!==_&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(g=function(t){v&&(r(!t||t.type?new f(null,e,v):t),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g))),m||!1===m||0===m||""===m||(m=null);var O=h(A);O&&-1===p.protocols.indexOf(O)?r(new d("Unsupported protocol "+O+":",d.ERR_BAD_REQUEST,e)):v.send(m)}))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/adapters/xhr.js"}],[793,{"../lib/core/AxiosError":798,"./cancel/CancelToken":794,"./cancel/CanceledError":795,"./cancel/isCancel":796,"./core/Axios":797,"./core/mergeConfig":802,"./defaults":805,"./env/data":808,"./helpers/bind":810,"./helpers/formDataToJSON":814,"./helpers/isAxiosError":816,"./helpers/spread":821,"./helpers/toFormData":822,"./utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./utils"),o=e("./helpers/bind"),s=e("./core/Axios"),i=e("./core/mergeConfig"),a=e("./defaults"),c=e("./helpers/formDataToJSON");var l=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(a);l.Axios=s,l.CanceledError=e("./cancel/CanceledError"),l.CancelToken=e("./cancel/CancelToken"),l.isCancel=e("./cancel/isCancel"),l.VERSION=e("./env/data").version,l.toFormData=e("./helpers/toFormData"),l.AxiosError=e("../lib/core/AxiosError"),l.Cancel=l.CanceledError,l.all=function(e){return Promise.all(e)},l.spread=e("./helpers/spread"),l.isAxiosError=e("./helpers/isAxiosError"),l.formToJSON=function(e){return c(n.isHTMLForm(e)?new FormData(e):e)},t.exports=l,t.exports.default=l}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/axios.js"}],[794,{"./CanceledError":795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./CanceledError");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,o,s){r.reason||(r.reason=new n(e,o,s),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/cancel/CancelToken.js"}],[795,{"../core/AxiosError":798,"../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../core/AxiosError");function o(e,t,r){n.call(this,null==e?"canceled":e,n.ERR_CANCELED,t,r),this.name="CanceledError"}e("../utils").inherits(o,n,{__CANCEL__:!0}),t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/cancel/CanceledError.js"}],[796,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){return!(!e||!e.__CANCEL__)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/cancel/isCancel.js"}],[797,{"../helpers/buildURL":811,"../helpers/validator":824,"./../utils":829,"./InterceptorManager":799,"./buildFullPath":800,"./dispatchRequest":801,"./mergeConfig":802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("../helpers/buildURL"),s=e("./InterceptorManager"),i=e("./dispatchRequest"),a=e("./mergeConfig"),c=e("./buildFullPath"),l=e("../helpers/validator"),u=l.validators;function d(e){this.defaults=e,this.interceptors={request:new s,response:new s}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==undefined&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var o=t.paramsSerializer;o!==undefined&&l.assertOptions(o,{encode:u.function,serialize:u.function},!0),n.isFunction(o)&&(t.paramsSerializer={serialize:o});var s=[],c=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var d,f=[];if(this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)})),!c){var h=[i,undefined];for(Array.prototype.unshift.apply(h,s),h=h.concat(f),d=Promise.resolve(t);h.length;)d=d.then(h.shift(),h.shift());return d}for(var p=t;s.length;){var g=s.shift(),m=s.shift();try{p=g(p)}catch(e){m(e);break}}try{d=i(p)}catch(e){return Promise.reject(e)}for(;f.length;)d=d.then(f.shift(),f.shift());return d},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),t.exports=d}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/Axios.js"}],[798,{"../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");function o(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=o.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(o,i),Object.defineProperty(s,"isAxiosError",{value:!0}),o.from=function(e,t,r,i,a,c){var l=Object.create(s);return n.toFlatObject(e,l,(function(e){return e!==Error.prototype})),o.call(l,e.message,t,r,i,a),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l},t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/AxiosError.js"}],[799,{"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.clear=function(){this.handlers&&(this.handlers=[])},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/InterceptorManager.js"}],[8,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PHISHING_WARNING_PAGE=r.PHISHING_STREAM=r.PHISHING_SAFELIST=r.METAMASK_PROVIDER=r.METAMASK_INPAGE=r.METAMASK_COOKIE_HANDLER=r.LEGACY_PUBLIC_CONFIG=r.LEGACY_PROVIDER=r.LEGACY_INPAGE=r.LEGACY_CONTENT_SCRIPT=r.CONTENT_SCRIPT=void 0;r.CONTENT_SCRIPT="metamask-contentscript",r.METAMASK_INPAGE="metamask-inpage",r.PHISHING_WARNING_PAGE="metamask-phishing-warning-page",r.METAMASK_COOKIE_HANDLER="metamask-cookie-handler",r.METAMASK_PROVIDER="metamask-provider",r.PHISHING_SAFELIST="metamask-phishing-safelist",r.PHISHING_STREAM="phishing",r.LEGACY_CONTENT_SCRIPT="contentscript",r.LEGACY_INPAGE="inpage",r.LEGACY_PROVIDER="provider",r.LEGACY_PUBLIC_CONFIG="publicConfig"}}},{package:"$root$",file:"app/scripts/constants/stream.ts"}],[80,{lodash:4866},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return o((0,n.cloneDeep)(e),(e=>null===e?"null":typeof e))};var n=e("lodash");function o(e={},t){return Object.entries(e).forEach((([r,n])=>{e[r]="object"==typeof n&&null!==n?o(n,t):t(n)})),e}}}},{package:"$root$",file:"app/scripts/lib/getObjStructure.js"}],[800,{"../helpers/combineURLs":812,"../helpers/isAbsoluteURL":815},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../helpers/isAbsoluteURL"),o=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!n(t)?o(e,t):t}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/buildFullPath.js"}],[801,{"../cancel/CanceledError":795,"../cancel/isCancel":796,"../defaults":805,"../helpers/normalizeHeaderName":818,"./../utils":829,"./transformData":804},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("./transformData"),s=e("../cancel/isCancel"),i=e("../defaults"),a=e("../cancel/CanceledError"),c=e("../helpers/normalizeHeaderName");function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}t.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,null,e.transformRequest),c(e.headers,"Accept"),c(e.headers,"Content-Type"),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,t.status,e.transformResponse),t}),(function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,t.response.status,e.transformResponse))),Promise.reject(t)}))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/dispatchRequest.js"}],[802,{"../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");t.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isEmptyObject(t)?n.merge({},e):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(undefined,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(undefined,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(undefined,e[r]):o(undefined,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(undefined,e[r]):void 0}var l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||s,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/mergeConfig.js"}],[803,{"./AxiosError":798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./AxiosError");t.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/settle.js"}],[804,{"../defaults":805,"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("../defaults");t.exports=function(e,t,r,s){var i=this||o;return n.forEach(s,(function(n){e=n.call(i,e,t,r)})),e}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/core/transformData.js"}],[805,{"../adapters/http":792,"../adapters/xhr":792,"../core/AxiosError":798,"../helpers/formDataToJSON":814,"../helpers/normalizeHeaderName":818,"../helpers/toFormData":822,"../helpers/toURLEncodedForm":823,"../platform":828,"../utils":829,"./transitional":806,_process:5008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("../utils"),o=e("../helpers/normalizeHeaderName"),s=e("../core/AxiosError"),i=e("./transitional"),a=e("../helpers/toFormData"),c=e("../helpers/toURLEncodedForm"),l=e("../platform"),u=e("../helpers/formDataToJSON"),d={"Content-Type":"application/x-www-form-urlencoded"};function f(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,p={transitional:i,adapter:("undefined"!=typeof XMLHttpRequest?h=e("../adapters/xhr"):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(h=e("../adapters/http")),h),transformRequest:[function(e,t){o(t,"Accept"),o(t,"Content-Type");var r,s=t&&t["Content-Type"]||"",i=s.indexOf("application/json")>-1,l=n.isObject(e);if(l&&n.isHTMLForm(e)&&(e=new FormData(e)),n.isFormData(e))return i?JSON.stringify(u(e)):e;if(n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return f(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(l){if(-1!==s.indexOf("application/x-www-form-urlencoded"))return c(e,this.formSerializer).toString();if((r=n.isFileList(e))||s.indexOf("multipart/form-data")>-1){var d=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||i?(f(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,r=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&n.isString(e)&&(r&&!this.responseType||o)){var i=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l.classes.FormData,Blob:l.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){p.headers[e]=n.merge(d)})),t.exports=p}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/defaults/index.js"}],[806,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/defaults/transitional.js"}],[807,{"form-data":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("form-data")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/env/classes/FormData.js"}],[808,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={version:"0.28.1"}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/env/data.js"}],[809,{"./toFormData":822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./toFormData");function o(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function s(e,t){this._pairs=[],e&&n(e,this,t)}var i=s.prototype;i.append=function(e,t){this._pairs.push([e,t])},i.toString=function(e){var t=e?function(t){return e.call(this,t,o)}:o;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")},t.exports=s}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/AxiosURLSearchParams.js"}],[81,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hardwareKeyringBuilderFactory=function(e,t){const r=()=>new e({bridge:new t});return r.type=e.type,r}}}},{package:"$root$",file:"app/scripts/lib/hardware-keyring-builder-factory.ts"}],[810,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){return function(){return e.apply(t,arguments)}}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/bind.js"}],[811,{"../helpers/AxiosURLSearchParams":809,"../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils"),o=e("../helpers/AxiosURLSearchParams");function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,r){if(!t)return e;var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i));var a,c=r&&r.encode||s,l=r&&r.serialize;return(a=l?l(t,r):n.isURLSearchParams(t)?t.toString():new o(t,r).toString(c))&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/buildURL.js"}],[812,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/combineURLs.js"}],[813,{"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");t.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/cookies.js"}],[814,{"../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");t.exports=function(e){function t(e,r,o,s){var i=e[s++],a=Number.isFinite(+i),c=s>=e.length;return i=!i&&n.isArray(o)?o.length:i,c?(n.hasOwnProperty(o,i)?o[i]=[o[i],r]:o[i]=r,!a):(o[i]&&n.isObject(o[i])||(o[i]=[]),t(e,r,o[i],s)&&n.isArray(o[i])&&(o[i]=function(e){var t,r,n={},o=Object.keys(e),s=o.length;for(t=0;t<s;t++)n[r=o[t]]=e[r];return n}(o[i])),!a)}if(n.isFormData(e)&&n.isFunction(e.entries)){var r={};return n.forEachEntry(e,(function(e,o){t(function(e){return n.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),o,r,0)})),r}return null}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/formDataToJSON.js"}],[815,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/isAbsoluteURL.js"}],[816,{"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");t.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/isAxiosError.js"}],[817,{"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");t.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/isURLSameOrigin.js"}],[818,{"../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");t.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/normalizeHeaderName.js"}],[819,{"./../utils":829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.slice(0,s)).toLowerCase(),r=n.trim(e.slice(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/parseHeaders.js"}],[820,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/parseProtocol.js"}],[821,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){return function(t){return e.apply(null,t)}}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/spread.js"}],[822,{"../core/AxiosError":798,"../env/classes/FormData":807,"../utils":829,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("../utils"),o=e("../core/AxiosError"),s=e("../env/classes/FormData");function i(e){return n.isPlainObject(e)||n.isArray(e)}function a(e){return n.endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,r){return e?e.concat(t).map((function(e,t){return e=a(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var l=n.toFlatObject(n,{},null,(function(e){return/^is[A-Z]/.test(e)}));t.exports=function(e,t,u){if(!n.isObject(e))throw new TypeError("target must be an object");t=t||new(s||FormData);var d,f=(u=n.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!n.isUndefined(t[e])}))).metaTokens,h=u.visitor||_,p=u.dots,g=u.indexes,m=(u.Blob||"undefined"!=typeof Blob&&Blob)&&((d=t)&&n.isFunction(d.append)&&"FormData"===d[Symbol.toStringTag]&&d[Symbol.iterator]);if(!n.isFunction(h))throw new TypeError("visitor must be a function");function E(e){if(null===e)return"";if(n.isDate(e))return e.toISOString();if(!m&&n.isBlob(e))throw new o("Blob is not supported. Use a Buffer instead.");return n.isArrayBuffer(e)||n.isTypedArray(e)?m&&"function"==typeof Blob?new Blob([e]):r.from(e):e}function _(e,r,o){var s=e;if(e&&!o&&"object"==typeof e)if(n.endsWith(r,"{}"))r=f?r:r.slice(0,-2),e=JSON.stringify(e);else if(n.isArray(e)&&function(e){return n.isArray(e)&&!e.some(i)}(e)||n.isFileList(e)||n.endsWith(r,"[]")&&(s=n.toArray(e)))return r=a(r),s.forEach((function(e,o){!n.isUndefined(e)&&t.append(!0===g?c([r],o,p):null===g?r:r+"[]",E(e))})),!1;return!!i(e)||(t.append(c(o,r,p),E(e)),!1)}var b=[],y=Object.assign(l,{defaultVisitor:_,convertValue:E,isVisitable:i});if(!n.isObject(e))throw new TypeError("data must be an object");return function e(r,o){if(!n.isUndefined(r)){if(-1!==b.indexOf(r))throw Error("Circular reference detected in "+o.join("."));b.push(r),n.forEach(r,(function(r,s){!0===(!n.isUndefined(r)&&h.call(t,r,n.isString(s)?s.trim():s,o,y))&&e(r,o?o.concat(s):[s])})),b.pop()}}(e),t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/toFormData.js"}],[823,{"../platform/":828,"../utils":829,"./toFormData":822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils"),o=e("./toFormData"),s=e("../platform/");t.exports=function(e,t){return o(e,new s.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,o){return s.isNode&&n.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/toURLEncodedForm.js"}],[824,{"../core/AxiosError":798,"../env/data":808},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../env/data").version,o=e("../core/AxiosError"),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={};s.transitional=function(e,t,r){function s(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new o(s(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!i[n]&&(i[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},t.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),s=n.length;s-- >0;){var i=n[s],a=t[i];if(a){var c=e[i],l=c===undefined||a(c,i,e);if(!0!==l)throw new o("option "+i+" must be "+l,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+i,o.ERR_BAD_OPTION)}},validators:s}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/helpers/validator.js"}],[825,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=FormData}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/platform/browser/classes/FormData.js"}],[826,{"../../../helpers/AxiosURLSearchParams":809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../helpers/AxiosURLSearchParams");t.exports="undefined"!=typeof URLSearchParams?URLSearchParams:n}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js"}],[827,{"./classes/FormData":825,"./classes/URLSearchParams":826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={isBrowser:!0,classes:{URLSearchParams:e("./classes/URLSearchParams"),FormData:e("./classes/FormData"),Blob:Blob},protocols:["http","https","file","blob","url","data"]}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/platform/browser/index.js"}],[828,{"./node/":827},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./node/")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/platform/index.js"}],[829,{"./helpers/bind":810},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=e("./helpers/bind"),s=Object.prototype.toString,i=(n=Object.create(null),function(e){var t=s.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var u=a("ArrayBuffer");function d(e){return"number"==typeof e}function f(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),g=a("File"),m=a("Blob"),E=a("FileList");function _(e){return"[object Function]"===s.call(e)}var b=a("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var v,w=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return v&&e instanceof v});var T,A=a("HTMLFormElement"),C=(T=Object.prototype.hasOwnProperty,function(e,t){return T.call(e,t)});t.exports={isArray:c,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||s.call(e)===t||_(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:d,isObject:f,isPlainObject:h,isEmptyObject:function(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isUndefined:l,isDate:p,isFile:g,isBlob:m,isFunction:_,isStream:function(e){return f(e)&&_(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){var e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:y,merge:function e(){var t={};function r(r,n){h(t[n])&&h(r)?t[n]=e(t[n],r):h(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)y(arguments[n],r);return t},extend:function(e,t,r){return y(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var o,s,i,a={};if(t=t||{},null==e)return t;do{for(s=(o=Object.getOwnPropertyNames(e)).length;s-- >0;)i=o[s],n&&!n(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==r&&Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(r===undefined||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(c(e))return e;var t=e.length;if(!d(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:E,forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var o=r.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:A,hasOwnProperty:C}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>axios",file:"node_modules/@ledgerhq/evm-tools/node_modules/axios/lib/utils.js"}],[830,{"./errors":831,"./modules/Domains":832,"./modules/EIP712":833,"./services/ledger":840,"./utils":843,"@ethersproject/transactions":614,"@ledgerhq/logs":886,"bignumber.js":883,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ledgerService=void 0;const a=e("@ledgerhq/logs"),c=e("bignumber.js"),l=e("@ethersproject/transactions"),u=e("./errors"),d=e("./modules/EIP712"),f=e("./modules/Domains"),h=i(e("./services/ledger"));r.ledgerService=h.default;const p=e("./utils");o(e("./utils"),r);const g={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5},m=e=>e&&27264===e.statusCode?new u.EthAppPleaseEnableContractData("Please enable Blind signing or Contract data in the Ethereum app Settings"):e;r.default=class{setLoadConfig(e){this.loadConfig=e}constructor(e,t="w0w",r={}){this.transport=e,this.loadConfig=r,e.decorateAppAPIMethods(this,["getAddress","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712Message","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex","getEIP1024PublicEncryptionKey","getEIP1024SharedSecret"],t)}getAddress(e,r,n,o){const s=(0,p.splitPath)(e);let i=t.alloc(1+4*s.length);if(i[0]=s.length,s.forEach(((e,t)=>{i.writeUInt32BE(e,1+4*t)})),o){const e=t.alloc(8,0),r=t.from((0,p.padHexString)(new c.BigNumber(o).toString(16)),"hex");e.write(r.toString("hex"),e.length-r.length,"hex"),i=t.concat([i,e])}return this.transport.send(224,2,r?1:0,n?1:0,i).then((e=>{const t=e[0],r=e[1+t];return{publicKey:e.slice(1,1+t).toString("hex"),address:"0x"+e.slice(1+t+1,1+t+1+r).toString("ascii"),chainCode:n?e.slice(1+t+1+r,1+t+1+r+32).toString("hex"):undefined}}))}signTransaction(e,r,n){return s(this,void 0,void 0,(function*(){let o;if(function(e){e[e.CLA=224]="CLA",e[e.INS=4]="INS",e[e.P1_FIRST_CHUNK=0]="P1_FIRST_CHUNK",e[e.P1_FOLLOWING_CHUNK=128]="P1_FOLLOWING_CHUNK",e[e.P2=0]="P2"}(o||(o={})),n===undefined&&(console.warn("hw-app-eth: signTransaction(path, rawTxHex, resolution): please provide the 'resolution' parameter. See https://github.com/LedgerHQ/ledgerjs/blob/master/packages/hw-app-eth/README.md  the previous signature is deprecated and providing the 3rd 'resolution' parameter explicitly will become mandatory so you have the control on the resolution and the fallback mecanism (e.g. fallback to blind signing or not).// Possible solution:\n + import { ledgerService } from '@ledgerhq/hw-app-eth';\n + const resolution = await ledgerService.resolveTransaction(rawTxHex);"),n=yield h.default.resolveTransaction(r,this.loadConfig,{externalPlugins:!0,erc20:!0,uniswapV3:!1}).catch((e=>(console.warn("an error occurred in resolveTransaction => fallback to blind signing: "+String(e)),null)))),n){for(const e of n.domains)yield(0,f.domainResolutionFlow)(this,e).catch((t=>{(0,a.log)("error","domainResolutionFlow failed",{domainDescriptor:e,error:t})}));for(const e of n.plugin)yield this.setPlugin(e);for(const{payload:e,signature:t}of n.externalPlugin)yield this.setExternalPlugin(e,t);for(const e of n.nfts)yield this.provideNFTInformation(e);for(const e of n.erc20Tokens)yield this.provideERC20TokenInformation(e)}const s=t.from(r,"hex"),i=(0,l.parse)(`0x${s.toString("hex")}`),u=new c.BigNumber(i.chainId),d=(0,p.splitPath)(e),g=t.alloc(1+4*d.length);g[0]=d.length,d.forEach(((e,t)=>{g.writeUInt32BE(e,1+4*t)}));const E=(0,p.safeChunkTransaction)(s,g,i.type);let _;for(const e of E){const t=e===E[0];_=yield this.transport.send(o.CLA,o.INS,t?o.P1_FIRST_CHUNK:o.P1_FOLLOWING_CHUNK,o.P2,e).catch((e=>{throw m(e)}))}return{v:(0,p.getV)(_[0],u,i.type),r:_.subarray(1,33).toString("hex"),s:_.subarray(33,65).toString("hex")}}))}clearSignTransaction(e,t,r){return s(this,arguments,void 0,(function*(e,t,r,n=!1){const o=yield h.default.resolveTransaction(t,this.loadConfig,r).catch((e=>{if(console.warn("an error occurred in resolveTransaction => fallback to blind signing: "+String(e)),n)throw e;return null}));return this.signTransaction(e,t,o)}))}getAppConfiguration(){return this.transport.send(224,6,0,0).then((e=>({arbitraryDataEnabled:1&e[0],erc20ProvisioningNecessary:2&e[0],starkEnabled:4&e[0],starkv2Supported:8&e[0],version:e[1]+"."+e[2]+"."+e[3]})))}signPersonalMessage(e,r){return s(this,void 0,void 0,(function*(){const n=(0,p.splitPath)(e);let o=0;const s=t.from(r,"hex");let i;for(;o!==s.length;){const e=0===o?149-4*n.length-4:150,r=o+e>s.length?s.length-o:e,a=t.alloc(0===o?1+4*n.length+4+r:r);0===o?(a[0]=n.length,n.forEach(((e,t)=>{a.writeUInt32BE(e,1+4*t)})),a.writeUInt32BE(s.length,1+4*n.length),s.copy(a,1+4*n.length+4,o,o+r)):s.copy(a,0,o,o+r),i=yield this.transport.send(224,8,0===o?0:128,0,a),o+=r}return{v:i[0],r:i.slice(1,33).toString("hex"),s:i.slice(33,65).toString("hex")}}))}signEIP712HashedMessage(e,t,r){return(0,d.signEIP712HashedMessage)(this.transport,e,t,r)}signEIP712Message(e,t){return s(this,arguments,void 0,(function*(e,t,r=!1){return(0,d.signEIP712Message)(this.transport,e,t,r,this.loadConfig)}))}getChallenge(){return s(this,void 0,void 0,(function*(){let e;return function(e){e[e.CLA=224]="CLA",e[e.INS=32]="INS",e[e.P1=0]="P1",e[e.P2=0]="P2",e[e.LC=0]="LC"}(e||(e={})),this.transport.send(e.CLA,e.INS,e.P1,e.P2).then((e=>{const[,t,r]=new RegExp("(.*)(.{4}$)").exec(e.toString("hex"))||[];if("9000"!==r)throw new Error(`An error happened while generating the challenge. Status code: ${r}`);return`0x${t}`})).catch((e=>{throw(0,a.log)("error","couldn't request a challenge",e),e}))}))}starkGetPublicKey(e,r){const n=(0,p.splitPath)(e),o=t.alloc(1+4*n.length);return o[0]=n.length,n.forEach(((e,t)=>{o.writeUInt32BE(e,1+4*t)})),this.transport.send(240,2,r?1:0,0,o).then((e=>e.slice(0,e.length-2)))}starkSignOrder(e,r,n,o,s,i,a,c,l,u,d){const f=(0,p.maybeHexBuffer)(r),h=(0,p.maybeHexBuffer)(o),g=(0,p.splitPath)(e),m=t.alloc(1+4*g.length+20+32+20+32+4+4+8+8+4+4,0);let E=0;return m[0]=g.length,g.forEach(((e,t)=>{m.writeUInt32BE(e,1+4*t)})),E=1+4*g.length,f&&f.copy(m,E),E+=20,t.from(n.toString(16).padStart(64,"0"),"hex").copy(m,E),E+=32,h&&h.copy(m,E),E+=20,t.from(s.toString(16).padStart(64,"0"),"hex").copy(m,E),E+=32,m.writeUInt32BE(i,E),E+=4,m.writeUInt32BE(a,E),E+=4,t.from(c.toString(16).padStart(16,"0"),"hex").copy(m,E),E+=8,t.from(l.toString(16).padStart(16,"0"),"hex").copy(m,E),E+=8,m.writeUInt32BE(u,E),E+=4,m.writeUInt32BE(d,E),this.transport.send(240,4,1,0,m).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkSignOrder_v2(e,r,n,o,s,i,a,c,l,u,d,f,h,m,E){const _=(0,p.maybeHexBuffer)(r),b=(0,p.maybeHexBuffer)(i);if(!(n in g))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+n);if(!(a in g))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+a);const y=(0,p.splitPath)(e),v=t.alloc(1+4*y.length+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0);let w=0;return v[0]=y.length,y.forEach(((e,t)=>{v.writeUInt32BE(e,1+4*t)})),w=1+4*y.length,v[w]=g[n],w++,_&&_.copy(v,w),w+=20,o&&t.from(o.toString(16).padStart(64,"0"),"hex").copy(v,w),w+=32,s&&t.from(s.toString(16).padStart(64,"0"),"hex").copy(v,w),w+=32,v[w]=g[a],w++,b&&b.copy(v,w),w+=20,c&&t.from(c.toString(16).padStart(64,"0"),"hex").copy(v,w),w+=32,l&&t.from(l.toString(16).padStart(64,"0"),"hex").copy(v,w),w+=32,v.writeUInt32BE(u,w),w+=4,v.writeUInt32BE(d,w),w+=4,t.from(f.toString(16).padStart(16,"0"),"hex").copy(v,w),w+=8,t.from(h.toString(16).padStart(16,"0"),"hex").copy(v,w),w+=8,v.writeUInt32BE(m,w),w+=4,v.writeUInt32BE(E,w),this.transport.send(240,4,3,0,v).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkSignTransfer(e,r,n,o,s,i,a,c,l){const u=(0,p.maybeHexBuffer)(r),d=(0,p.hexBuffer)(o),f=(0,p.splitPath)(e),h=t.alloc(1+4*f.length+20+32+32+4+4+8+4+4,0);let g=0;return h[0]=f.length,f.forEach(((e,t)=>{h.writeUInt32BE(e,1+4*t)})),g=1+4*f.length,u&&u.copy(h,g),g+=20,t.from(n.toString(16).padStart(64,"0"),"hex").copy(h,g),g+=32,d.copy(h,g),g+=32,h.writeUInt32BE(s,g),g+=4,h.writeUInt32BE(i,g),g+=4,t.from(a.toString(16).padStart(16,"0"),"hex").copy(h,g),g+=8,h.writeUInt32BE(c,g),g+=4,h.writeUInt32BE(l,g),this.transport.send(240,4,2,0,h).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkSignTransfer_v2(e,r,n,o,s,i,a,c,l,u,d,f,h){const m=(0,p.maybeHexBuffer)(r),E=(0,p.hexBuffer)(i),_=(0,p.maybeHexBuffer)(f);if(!(n in g))throw new Error("eth.starkSignTransferv2 invalid quantization type="+n);const b=(0,p.splitPath)(e),y=t.alloc(1+4*b.length+1+20+32+32+32+4+4+8+4+4+(_?52:0),0);let v=0;return y[0]=b.length,b.forEach(((e,t)=>{y.writeUInt32BE(e,1+4*t)})),v=1+4*b.length,y[v]=g[n],v++,m&&m.copy(y,v),v+=20,o&&t.from(o.toString(16).padStart(64,"0"),"hex").copy(y,v),v+=32,s&&t.from(s.toString(16).padStart(64,"0"),"hex").copy(y,v),v+=32,E.copy(y,v),v+=32,y.writeUInt32BE(a,v),v+=4,y.writeUInt32BE(c,v),v+=4,t.from(l.toString(16).padStart(16,"0"),"hex").copy(y,v),v+=8,y.writeUInt32BE(u,v),v+=4,y.writeUInt32BE(d,v),_&&h&&(v+=4,t.from(h.toString(16).padStart(64,"0"),"hex").copy(y,v),v+=32,_.copy(y,v)),this.transport.send(240,4,_?5:4,0,y).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}starkProvideQuantum(e,r){const n=(0,p.maybeHexBuffer)(e),o=t.alloc(52,0);return n&&n.copy(o,0),t.from(r.toString(16).padStart(64,"0"),"hex").copy(o,20),this.transport.send(240,8,0,0,o).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}starkProvideQuantum_v2(e,r,n,o){const s=(0,p.maybeHexBuffer)(e);if(!(r in g))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+r);const i=t.alloc(84,0);let a=0;return s&&s.copy(i,a),a+=20,n&&t.from(n.toString(16).padStart(64,"0"),"hex").copy(i,a),a+=32,o&&t.from(o.toString(16).padStart(64,"0"),"hex").copy(i,a),this.transport.send(240,8,g[r],0,i).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}starkUnsafeSign(e,r){const n=(0,p.hexBuffer)(r),o=(0,p.splitPath)(e),s=t.alloc(1+4*o.length+32);let i=0;return s[0]=o.length,o.forEach(((e,t)=>{s.writeUInt32BE(e,1+4*t)})),i=1+4*o.length,n.copy(s,i),this.transport.send(240,10,0,0,s).then((e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")})))}eth2GetPublicKey(e,r){const n=(0,p.splitPath)(e),o=t.alloc(1+4*n.length);return o[0]=n.length,n.forEach(((e,t)=>{o.writeUInt32BE(e,1+4*t)})),this.transport.send(224,14,r?1:0,0,o).then((e=>({publicKey:e.slice(0,-2).toString("hex")})))}eth2SetWithdrawalIndex(e){const r=t.alloc(4,0);return r.writeUInt32BE(e,0),this.transport.send(224,16,0,0,r).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}getEIP1024PublicEncryptionKey(e,r){const n=(0,p.splitPath)(e),o=t.alloc(1+4*n.length);return o[0]=n.length,n.forEach(((e,t)=>{o.writeUInt32BE(e,1+4*t)})),this.transport.send(224,24,r?1:0,0,o).then((e=>({publicKey:e.slice(0,-2).toString("hex")})))}getEIP1024SharedSecret(e,r,n){const o=(0,p.splitPath)(e),s=(0,p.hexBuffer)(r),i=t.alloc(1+4*o.length+32);let a=0;return i[0]=o.length,o.forEach(((e,t)=>{i.writeUInt32BE(e,1+4*t)})),a=1+4*o.length,s.copy(i,a),this.transport.send(224,24,n?1:0,1,i).then((e=>({sharedSecret:e.slice(0,-2).toString("hex")})))}provideERC20TokenInformation(e){const r=t.from(e,"hex");return this.transport.send(224,10,0,0,r).then((()=>!0),(e=>{if(e&&27904===e.statusCode)return!1;throw e}))}setExternalPlugin(e,r){const n=t.from(e,"hex"),o=t.from(null!=r?r:"","hex"),s=t.concat([n,o]);return this.transport.send(224,18,0,0,s).then((()=>!0),(e=>{if(e&&27264===e.statusCode)return!1;if(e&&27012===e.statusCode)return!1;if(e&&27904===e.statusCode)return!1;throw e}))}setPlugin(e){const r=t.from(e,"hex");return this.transport.send(224,22,0,0,r).then((()=>!0),(e=>{if(e&&27264===e.statusCode)return!1;if(e&&27012===e.statusCode)return!1;if(e&&27904===e.statusCode)return!1;throw e}))}provideNFTInformation(e){const r=t.from(e,"hex");return this.transport.send(224,20,0,0,r).then((()=>!0),(e=>{if(e&&27904===e.statusCode)throw new u.EthAppNftNotSupported;throw e}))}provideDomainName(e){return s(this,void 0,void 0,(function*(){let r;!function(e){e[e.CLA=224]="CLA",e[e.INS=34]="INS",e[e.P1_FIRST_CHUNK=1]="P1_FIRST_CHUNK",e[e.P1_FOLLOWING_CHUNK=0]="P1_FOLLOWING_CHUNK",e[e.P2=0]="P2"}(r||(r={}));const n=t.from(e,"hex"),o=t.concat([t.from((0,p.intAsHexBytes)(n.length,2),"hex"),n]),s=new Array(Math.ceil(o.length/256)).fill(null).map(((e,t)=>o.slice(255*t,255*(t+1))));for(const e of s){const t=e===s[0];yield this.transport.send(r.CLA,r.INS,t?r.P1_FIRST_CHUNK:r.P1_FOLLOWING_CHUNK,r.P2,e)}return!0}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/Eth.js"}],[831,{"@ledgerhq/errors":787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EthAppNftNotSupported=r.EthAppPleaseEnableContractData=void 0;const n=e("@ledgerhq/errors");r.EthAppPleaseEnableContractData=(0,n.createCustomErrorClass)("EthAppPleaseEnableContractData"),r.EthAppNftNotSupported=(0,n.createCustomErrorClass)("EthAppNftNotSupported")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/errors.js"}],[832,{"../../services/ledger":840},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.domainResolutionFlow=void 0;const s=o(e("../../services/ledger"));r.domainResolutionFlow=(e,t)=>n(void 0,void 0,void 0,(function*(){if(!t)return;const{domain:r,address:n,registry:o,type:i}=t,a=yield e.getChallenge(),c="forward"===i?yield s.default.signDomainResolution(r,o,a):yield s.default.signAddressResolution(n,o,a);c&&(yield e.provideDomainName(c))}))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/modules/Domains/index.js"}],[833,{"../../services/ledger/erc20":839,"../../services/ledger/loadConfig":841,"../../utils":843,"./utils":834,"@ledgerhq/evm-tools/lib/message/EIP712/index":788,buffer:4037,semver:5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.signEIP712HashedMessage=r.signEIP712Message=void 0;const s=o(e("semver")),i=e("@ledgerhq/evm-tools/lib/message/EIP712/index"),a=e("../../services/ledger/erc20"),c=e("../../utils"),l=e("../../services/ledger/loadConfig"),u=e("./utils"),d=(e,r)=>{let n;!function(e){e[e.CLA=224]="CLA",e[e.INS=26]="INS",e[e.P1_complete=0]="P1_complete",e[e.P1_partial=1]="P1_partial",e[e.P2_name=0]="P2_name",e[e.P2_field=255]="P2_field"}(n||(n={}));const{structType:o,value:s}=r,i="name"===o&&"string"==typeof s?t.from(s,"utf-8"):s;return e.send(n.CLA,n.INS,n.P1_complete,"name"===o?n.P2_name:n.P2_field,i)},f=(e,r)=>n(void 0,void 0,void 0,(function*(){var n;let o;!function(e){e[e.CLA=224]="CLA",e[e.INS=28]="INS",e[e.P1_complete=0]="P1_complete",e[e.P1_partial=1]="P1_partial",e[e.P2_root=0]="P2_root",e[e.P2_array=15]="P2_array",e[e.P2_field=255]="P2_field"}(o||(o={}));const{structType:s,value:i}=r;if("root"===s)return e.send(o.CLA,o.INS,o.P1_complete,o.P2_root,t.from(i,"utf-8"));if("array"===s)return e.send(o.CLA,o.INS,o.P1_complete,o.P2_array,t.from((0,c.intAsHexBytes)(i,1),"hex"));if("field"===s){const{data:r,type:s,sizeInBits:a}=i,l=null===(n=u.EIP712_TYPE_ENCODERS[s.toUpperCase()])||void 0===n?void 0:n.call(u.EIP712_TYPE_ENCODERS,r,a);if(l){const r=Math.floor(l.length/256),n=l.length%256,s=t.concat([t.from((0,c.intAsHexBytes)(r,1),"hex"),t.from((0,c.intAsHexBytes)(n,1),"hex"),l]),i=new Array(Math.ceil(s.length/256)).fill(null).map(((e,t)=>s.subarray(255*t,255*(t+1))));for(const t of i)yield e.send(o.CLA,o.INS,t!==i[i.length-1]?o.P1_partial:o.P1_complete,o.P2_field,t)}}return Promise.resolve()}));function h(e,r,o,s){return n(this,void 0,void 0,(function*(){let n;switch(function(e){e[e.CLA=224]="CLA",e[e.INS=30]="INS",e[e.P1_standard=0]="P1_standard",e[e.P1_discarded=1]="P1_discarded",e[e.P2_activate=0]="P2_activate",e[e.P2_discarded=1]="P2_discarded",e[e.P2_show_field=255]="P2_show_field",e[e.P2_message_info=15]="P2_message_info",e[e.P2_datetime=252]="P2_datetime",e[e.P2_amount_join_token=253]="P2_amount_join_token",e[e.P2_amount_join_value=254]="P2_amount_join_value",e[e.P2_raw=255]="P2_raw"}(n||(n={})),r){case"activate":return e.send(n.CLA,n.INS,n.P1_discarded,n.P2_activate);case"contractName":{const{displayName:r,filtersCount:o,sig:i}=s,{displayNameBuffer:a,sigBuffer:l}=(0,u.getFilterDisplayNameAndSigBuffers)(r,i),d=t.from((0,c.intAsHexBytes)(o,1),"hex"),f=t.concat([a,d,l]);return e.send(n.CLA,n.INS,n.P1_standard,n.P2_message_info,f)}case"showField":{const{displayName:r,sig:o,format:i,coinRef:c,chainId:l,coinRefsTokensMap:d,shouldUseV1Filters:f,erc20SignaturesBlob:h,isDiscarded:p}=s,{displayNameBuffer:g,sigBuffer:m}=(0,u.getFilterDisplayNameAndSigBuffers)(r,o);if(f){const r=t.concat([g,m]);return e.send(n.CLA,n.INS,n.P1_standard,n.P2_show_field,r)}if("token"===i&&c!==undefined){const{token:t,deviceTokenIndex:r}=d[c];if(r===undefined){const r=yield(0,a.byContractAddressAndChainId)(t,l,h);if(r){let t;!function(e){e[e.CLA=224]="CLA",e[e.INS=10]="INS",e[e.P1=0]="P1",e[e.P2=0]="P2"}(t||(t={}));const n=yield e.send(t.CLA,t.INS,t.P1,t.P2,r.data);d[c].deviceTokenIndex=n[0]}}}if("amount"===i&&255===c){const{token:t}=d[255],r=yield(0,a.byContractAddressAndChainId)(t,l,h);r&&(yield e.send(224,10,0,0,r.data),d[255].deviceTokenIndex=255)}if(!i)throw new Error("Missing format");const E={raw:n.P2_raw,datetime:n.P2_datetime,token:n.P2_amount_join_token,amount:n.P2_amount_join_value},_=(0,u.getPayloadForFilterV2)(i,c,d,g,m);return e.send(n.CLA,n.INS,p?n.P1_discarded:n.P1_standard,E[i],_)}case"discardField":{const{path:r}=s,o=t.from(r),i=t.from((0,c.intAsHexBytes)(o.length,1),"hex"),a=t.concat([i,o]);return e.send(n.CLA,n.INS,n.P1_standard,n.P2_discarded,a)}}}))}r.signEIP712Message=(e,r,o,...p)=>n(void 0,[e,r,o,...p],void 0,(function*(e,r,o,p=!1,g){let m;!function(e){e[e.CLA=224]="CLA",e[e.INS=12]="INS",e[e.P1=0]="P1",e[e.P2_v0=0]="P2_v0",e[e.P2_full=1]="P2_full"}(m||(m={}));const{primaryType:E,types:_,domain:b,message:y}=o,{calServiceURL:v}=(0,l.getLoadConfig)(g),w=(0,i.sortObjectAlphabetically)(_),{version:T}=yield(0,u.getAppAndVersion)(e),A=!s.default.gte(T,"1.11.1-0",{includePrerelease:!0}),C=s.default.gte(T,"1.12.0-0",{includePrerelease:!0}),S=yield(0,i.getFiltersForMessage)(o,A,v),O=(0,u.getCoinRefTokensMap)(S,A,o),P=Object.entries(w);for(const[t,r]of P){yield d(e,{structType:"name",value:t});for(const{name:t,type:n}of r){const r=(0,u.makeTypeEntryStructBuffer)({name:t,type:n});yield d(e,{structType:"field",value:r})}}S&&(yield h(e,"activate"));const N=A?undefined:yield(0,a.findERC20SignaturesInfo)(g,b.chainId||0),R=(({transport:e,loadConfig:t,chainId:r,erc20SignaturesBlob:o,types:s,filters:i,shouldUseV1Filters:a,shouldUseDiscardedFields:c,coinRefsTokensMap:l})=>{var d;const p={};for(const e in s)p[e]=null===(d=s[e])||void 0===d?void 0:d.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.type})),{});const g=(t,s,...d)=>n(void 0,[t,s,...d],void 0,(function*(t,n,s=""){var d,m;const[E,_]=t,[b,...y]=_,v=!u.EIP712_TYPE_PROPERTIES[(null===(d=null==E?void 0:E.name)||void 0===d?void 0:d.toUpperCase())||""];if(Array.isArray(n)&&void 0!==b){yield f(e,{structType:"array",value:n.length});const t=`${s}.[]`;if(!n.length){const n=null==i?void 0:i.fields.filter((e=>e.path.startsWith(t)));if(n&&c)for(const t of n)yield h(e,"discardField",0,{path:t.path}),yield h(e,"showField",0,{displayName:t.label,sig:t.signature,format:t.format,coinRef:t.coin_ref,chainId:r,erc20SignaturesBlob:o,shouldUseV1Filters:a,coinRefsTokensMap:l,isDiscarded:!0})}for(const e of n)yield g([E,y],e,t)}else if(v)for(const e of Object.keys(p[(null==E?void 0:E.name)||""])){const t=n[e],r=null===(m=p[(null==E?void 0:E.name)||""])||void 0===m?void 0:m[e];r&&(yield g((0,u.destructTypeFromString)(r),t,`${s}.${e}`))}else{const t=null==i?void 0:i.fields.find((e=>s===e.path));t&&(yield h(e,"showField",0,{displayName:t.label,sig:t.signature,format:t.format,coinRef:t.coin_ref,chainId:r,erc20SignaturesBlob:o,shouldUseV1Filters:a,coinRefsTokensMap:l,isDiscarded:!1})),yield f(e,{structType:"field",value:{data:n,type:(null==E?void 0:E.name)||"",sizeInBits:null==E?void 0:E.size}})}}));return g})({transport:e,loadConfig:g,chainId:b.chainId||0,erc20SignaturesBlob:N,types:w,filters:S,shouldUseV1Filters:A,shouldUseDiscardedFields:C,coinRefsTokensMap:O}),I="EIP712Domain";yield f(e,{structType:"root",value:I});const x=w[I];for(const{name:e,type:t}of x){const r=b[e];yield R((0,u.destructTypeFromString)(t),r)}if(S){const{contractName:t,fields:r}=S,n={displayName:t.label,filtersCount:r.length,sig:t.signature};yield h(e,"contractName",0,n)}yield f(e,{structType:"root",value:E});const k=w[E];for(const{name:e,type:t}of k){const r=y[e];yield R((0,u.destructTypeFromString)(t),r,e)}const L=(0,c.splitPath)(r),D=t.alloc(1+4*L.length);return D[0]=L.length,L.forEach(((e,t)=>{D.writeUInt32BE(e,1+4*t)})),e.send(m.CLA,m.INS,m.P1,p?m.P2_v0:m.P2_full,D).then((e=>({v:e[0],r:e.subarray(1,33).toString("hex"),s:e.subarray(33,65).toString("hex")})))}));r.signEIP712HashedMessage=(e,r,n,o)=>{const s=(0,c.hexBuffer)(n),i=(0,c.hexBuffer)(o),a=(0,c.splitPath)(r),l=t.alloc(1+4*a.length+32+32,0);let u=0;return l[0]=a.length,a.forEach(((e,t)=>{l.writeUInt32BE(e,1+4*t)})),u=1+4*a.length,s.copy(l,u),u+=32,i.copy(l,u),e.send(224,12,0,0,l).then((e=>({v:e[0],r:e.subarray(1,33).toString("hex"),s:e.subarray(33,65).toString("hex")})))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/modules/EIP712/index.js"}],[834,{"../../utils":843,"@ledgerhq/evm-tools/lib/message/index":789,"bignumber.js":883,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getPayloadForFilterV2=r.getFilterDisplayNameAndSigBuffers=r.getAppAndVersion=r.getCoinRefTokensMap=r.makeTypeEntryStructBuffer=r.constructTypeDescByteString=r.destructTypeFromString=r.EIP712_TYPE_ENCODERS=r.EIP712_TYPE_PROPERTIES=void 0;const s=o(e("bignumber.js")),i=e("@ledgerhq/evm-tools/lib/message/index"),a=e("../../utils");var c;!function(e){e[e.DYNAMIC=0]="DYNAMIC",e[e.FIXED=1]="FIXED"}(c||(c={})),r.EIP712_TYPE_PROPERTIES={CUSTOM:{key:()=>0,size:()=>null},INT:{key:()=>1,size:e=>Number(e)/8},UINT:{key:()=>2,size:e=>Number(e)/8},ADDRESS:{key:()=>3,size:()=>null},BOOL:{key:()=>4,size:()=>null},STRING:{key:()=>5,size:()=>null},BYTES:{key:e=>void 0!==e?6:7,size:e=>void 0!==e?Number(e):null}},r.EIP712_TYPE_ENCODERS={INT(e,r=256){const n=null!=e?e:"0";if("string"==typeof n&&(null==n?void 0:n.startsWith("0x")))return(0,a.hexBuffer)(n);let o=new s.default(n);if(o.lt(0)){const e=r/8;o=new s.default(`0x${t.alloc(e,255).toString("hex")}`).plus(o).plus(1)}const i=o.toString(16).length%2?"0"+o.toString(16):o.toString(16);return t.from(i,"hex")},UINT(e){return this.INT(e)},BOOL(e){return this.INT("boolean"==typeof e?Number(e).toString():e)},ADDRESS:e=>(0,a.hexBuffer)(null!=e?e:"").slice(0,20),STRING:e=>t.from(null!=e?e:"","utf-8"),BYTES(e,t){const r=null!=e?e:"";return(0,a.hexBuffer)(r).slice(0,null!=t?t:((null==r?void 0:r.length)-2)/2)}};r.destructTypeFromString=e=>{const t=new RegExp(/^([^[\]]*)(\[.*\])*/g),r=new RegExp(/\[(\d*)\]/g),n=new RegExp(/(?=u?int|bytes)([a-zA-Z-0-9]+?)(\d{1,3})$/g),[,o,s]=t.exec(e||"")||[],[,i=o,a]=n.exec(o||"")||[];return[i?{name:i,size:a?Number(a):undefined}:null,(s?[...s.matchAll(r)]:[]).map((([,e])=>e?Number(e):null))]};r.constructTypeDescByteString=(e,t,r)=>{if(r>=16)throw new Error("Eth utils - constructTypeDescByteString - Cannot accept a typeValue >= 16 because the typeValue can only be 4 bits in binary"+{isArray:e,typeSize:t,typeValue:r});const n=e?"1":"0",o="number"==typeof t?"1":"0",s=r.toString(2).padStart(4,"0");return(0,a.intAsHexBytes)(parseInt(n+o+"00"+s,2),1)};r.makeTypeEntryStructBuffer=({name:e,type:n})=>{var o,s,i,l;const[u,d]=(0,r.destructTypeFromString)(n),f=Boolean(d.length),h=r.EIP712_TYPE_PROPERTIES[(null===(o=null==u?void 0:u.name)||void 0===o?void 0:o.toUpperCase())||""]||r.EIP712_TYPE_PROPERTIES.CUSTOM,p=h.key(null==u?void 0:u.size),g=h.size(null==u?void 0:u.size),m=(0,r.constructTypeDescByteString)(f,g,p),E=[t.from(m,"hex")];return h===r.EIP712_TYPE_PROPERTIES.CUSTOM&&(E.push(t.from((0,a.intAsHexBytes)(null!==(i=null===(s=null==u?void 0:u.name)||void 0===s?void 0:s.length)&&void 0!==i?i:0,1),"hex")),E.push(t.from(null!==(l=null==u?void 0:u.name)&&void 0!==l?l:"","utf-8"))),"number"==typeof g&&E.push(t.from((0,a.intAsHexBytes)(g,1),"hex")),f&&(E.push(t.from((0,a.intAsHexBytes)(d.length,1),"hex")),d.forEach((e=>{"number"==typeof e?E.push(t.from((0,a.intAsHexBytes)(c.FIXED,1),"hex"),t.from((0,a.intAsHexBytes)(e,1),"hex")):E.push(t.from((0,a.intAsHexBytes)(c.DYNAMIC,1),"hex"))}))),E.push(t.from((0,a.intAsHexBytes)(e.length,1),"hex"),t.from(e,"utf-8")),t.concat(E)};r.getCoinRefTokensMap=(e,t,r)=>{const n={};if(t||!e)return n;const o=e.fields.filter((({format:e})=>"token"===e)).sort(((e,t)=>(e.coin_ref||0)-(t.coin_ref||0))).reduce(((e,t)=>{const n=(0,i.getValueFromPath)(t.path,r);if(Array.isArray(n))throw new Error("Array of tokens is not supported with a single coin ref");return[...e,{token:n,coinRef:t.coin_ref}]}),[]);for(const{token:e,coinRef:t}of o)n[t]={token:e};return e.fields.some((e=>"amount"===e.format&&255===e.coin_ref))&&r.domain.verifyingContract&&(n[255]={token:r.domain.verifyingContract}),n};r.getAppAndVersion=e=>n(void 0,void 0,void 0,(function*(){const t=yield e.send(176,1,0,0);let r=1;const n=t[r];r+=1;const o=t.subarray(r,r+n).toString("ascii");r+=n;const s=t[r];r+=1;return{name:o,version:t.subarray(r,r+s).toString("ascii")}}));r.getFilterDisplayNameAndSigBuffers=(e,r)=>{const n=t.from(e),o=t.from((0,a.intAsHexBytes)(n.length,1),"hex"),s=t.from(r,"hex"),i=t.from((0,a.intAsHexBytes)(s.length,1),"hex");return{displayNameBuffer:t.concat([o,n]),sigBuffer:t.concat([i,s])}};r.getPayloadForFilterV2=(e,r,n,o,s)=>{switch(e){case"raw":case"datetime":return t.concat([o,s]);case"token":{const{deviceTokenIndex:e}=n[r];return t.concat([t.from((0,a.intAsHexBytes)(e||r||0,1),"hex"),s])}case"amount":{const{deviceTokenIndex:e}=n[r];return t.concat([o,t.from((0,a.intAsHexBytes)(e||r||0,1),"hex"),s])}default:throw new Error("Invalid format")}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/modules/EIP712/utils.js"}],[835,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SWAP_COMMANDS=r.UNISWAP_COMMANDS=r.WETH_PER_CHAIN_ID=r.UNISWAP_EXECUTE_SELECTOR=r.UNISWAP_UNIVERSAL_ROUTER_ADDRESS=void 0,r.UNISWAP_UNIVERSAL_ROUTER_ADDRESS="0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad",r.UNISWAP_EXECUTE_SELECTOR="0x3593564c",r.WETH_PER_CHAIN_ID={1:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",5:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",11155111:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",42161:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",421613:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",43114:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",56:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",8453:"0x4200000000000000000000000000000000000006",84531:"0x44D627f900da8AdaC7561bD73aA745F132450798",23888:"0x4300000000000000000000000000000000000004",42220:new Error("Celo isn't supporting wrapping Eth"),44787:new Error("Celo Alfajores isn't supporting wrapping Eth"),10:"0x4200000000000000000000000000000000000006",420:"0x4200000000000000000000000000000000000006",137:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",80001:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889"},r.UNISWAP_COMMANDS={"0x08":"V2_SWAP_EXACT_IN","0x09":"V2_SWAP_EXACT_OUT","0x00":"V3_SWAP_EXACT_IN","0x01":"V3_SWAP_EXACT_OUT","0x0b":"WRAP_ETH","0x0c":"UNWRAP_ETH","0x0a":"PERMIT2_PERMIT","0x0d":"PERMIT2_TRANSFER_FROM","0x02":"PERMIT2_PERMIT_BATCH","0x03":"PERMIT2_TRANSFER_FROM_BATCH","0x06":"PAY_PORTION","0x04":"SWEEP"},r.SWAP_COMMANDS=["V2_SWAP_EXACT_IN","V2_SWAP_EXACT_OUT","V3_SWAP_EXACT_IN","V3_SWAP_EXACT_OUT"]}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/modules/Uniswap/constants.js"}],[836,{"./constants":835,"@ethersproject/abi":506,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.UniswapDecoders=void 0;const n=e("@ethersproject/abi"),o=e("./constants"),s=e=>{const[,,,t]=n.defaultAbiCoder.decode(["address","uint256","uint256","address[]","bool"],e);return t.map((e=>e.toLowerCase()))},i=e=>{const[,,,r]=n.defaultAbiCoder.decode(["address","uint256","uint256","bytes","bool"],e),o=t.from(r.slice(2),"hex"),s=[];let i=0;for(;i<o.length;)s.push(`0x${o.subarray(i,i+20).toString("hex").toLowerCase()}`),i+=23;return s},a=(e,t)=>{const r=o.WETH_PER_CHAIN_ID[t];return r instanceof Error?[]:[r.toLowerCase()]},c=()=>[];r.UniswapDecoders={V2_SWAP_EXACT_IN:s,V2_SWAP_EXACT_OUT:s,V3_SWAP_EXACT_IN:i,V3_SWAP_EXACT_OUT:i,WRAP_ETH:a,UNWRAP_ETH:a,PERMIT2_PERMIT:c,PERMIT2_TRANSFER_FROM:c,PERMIT2_PERMIT_BATCH:c,PERMIT2_TRANSFER_FROM_BATCH:c,PAY_PORTION:c,SWEEP:e=>{const[t]=n.defaultAbiCoder.decode(["address","address","uint256"],e);return[t.toLowerCase()]}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/modules/Uniswap/decoders.js"}],[837,{"../../services/ledger/erc20":839,"./constants":835,"./decoders":836,"@ethersproject/abi":506,"@ledgerhq/logs":886,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.loadInfosForUniswap=r.getCommandsAndTokensFromUniswapCalldata=r.isSupported=void 0;const o=e("@ledgerhq/logs"),s=e("@ethersproject/abi"),i=e("../../services/ledger/erc20"),a=e("./decoders"),c=e("./constants");r.isSupported=(e,t,r,n)=>{const o=e.slice(0,10),s=null==t?void 0:t.toLowerCase();if(o!==c.UNISWAP_EXECUTE_SELECTOR||s!==c.UNISWAP_UNIVERSAL_ROUTER_ADDRESS||!n.length)return!1;let i;for(let e=0;e<n.length;e++){const[t,r]=n[e];if(!t)return!1;if(!c.SWAP_COMMANDS.includes(t))continue;const o=t.slice(0,2);if(i&&(i.asset!==r[0]||i.poolVersion!==o))return!1;i={poolVersion:o,asset:r[r.length-1]}}return!0};r.getCommandsAndTokensFromUniswapCalldata=(e,r)=>{try{const[n,o]=new s.Interface(["function execute(bytes calldata commands, bytes[] calldata inputs, uint256 deadline) external payable"]).decodeFunctionData("execute",e);return t.from(n.slice(2),"hex").reduce(((e,t,n)=>{const s=c.UNISWAP_COMMANDS[`0x${t.toString(16).padStart(2,"0")}`];if(!s)return[...e,[undefined,[]]];const i=a.UniswapDecoders[s];return[...e,[s,i(o[n],r)]]}),[])}catch(e){return(0,o.log)("Uniswap","Error decoding Uniswap calldata",e),[]}};r.loadInfosForUniswap=(e,o,s)=>n(void 0,void 0,void 0,(function*(){const a=e.data.slice(0,10),l=(0,r.getCommandsAndTokensFromUniswapCalldata)(e.data,o);if(!(0,r.isSupported)(a,e.to,o,l))return{};const u=Array.from(new Set(l.flatMap((([,e])=>e)))),d=Promise.all(u.map((e=>n(void 0,void 0,void 0,(function*(){var t;const r=yield(0,i.findERC20SignaturesInfo)(s||{},o);return null===(t=(0,i.byContractAddressAndChainId)(e,o,r))||void 0===t?void 0:t.data}))))),f=yield d.then((e=>e.filter((e=>!!e)))),h="Uniswap",p=t.alloc(1);p.writeUIntBE(7,0,1);const g=t.from(h),m=t.from(c.UNISWAP_UNIVERSAL_ROUTER_ADDRESS.slice(2),"hex"),E=t.from(c.UNISWAP_EXECUTE_SELECTOR.slice(2),"hex"),_=t.from("3044022014391e8f355867a57fe88f6a5a4dbcb8bf8f888a9db3ff3449caf72d120396bd02200c13d9c3f79400fe0aa0434ac54d59b79503c9964a4abc3e8cd22763e0242935","hex");return{pluginData:t.concat([p,g,m,E,_]),tokenDescriptors:f}}))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/modules/Uniswap/index.js"}],[838,{"./loadConfig":841,"@ledgerhq/logs":886,axios:844},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.loadInfosForContractMethod=void 0;const s=o(e("axios")),i=e("./loadConfig"),a=e("@ledgerhq/logs");r.loadInfosForContractMethod=(e,t,r,o)=>n(void 0,void 0,void 0,(function*(){const{pluginBaseURL:r,extraPlugins:n}=(0,i.getLoadConfig)(o);let c={};if(r){const e=`${r}/plugins/ethereum.json`;c=yield s.default.get(`${r}/plugins/ethereum.json`).then((e=>e.data)).catch((t=>((0,a.log)("error","could not fetch from "+e+": "+String(t)),null)))}if(n&&(c=Object.assign(Object.assign({},c),n)),!c)return;const l=t.toLowerCase(),u=e.toLowerCase();if(u in c){const e=c[u];if(l in e)return{payload:e[l].serialized_data,signature:e[l].signature,plugin:e[l].plugin,erc20OfInterest:e[l].erc20OfInterest,abi:e.abi}}}))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/services/ledger/contracts.js"}],[839,{"./loadConfig":841,"@ledgerhq/cryptoassets-evm-signatures/lib/data/evm/index":743,"@ledgerhq/logs":886,axios:844,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.byContractAddressAndChainId=r.findERC20SignaturesInfo=void 0;const s=o(e("axios")),i=e("@ledgerhq/logs"),a=e("@ledgerhq/cryptoassets-evm-signatures/lib/data/evm/index"),c=e("./loadConfig"),l=e=>{const t=e.toLowerCase();return t.startsWith("0x")?t:"0x"+t};r.findERC20SignaturesInfo=(e,t)=>n(void 0,void 0,void 0,(function*(){const{cryptoassetsBaseURL:r}=(0,c.getLoadConfig)(e);if(!r)return null;const n=`${r}/evm/${t}/erc20-signatures.json`;return yield s.default.get(n).then((({data:e})=>{if(!e||"string"!=typeof e)throw new Error(`ERC20 signatures for chainId ${t} file is malformed ${n}`);return e})).catch((e=>((0,i.log)("error","could not fetch from "+n+": "+String(e)),null)))}));r.byContractAddressAndChainId=(e,t,r)=>{var n,o;if(r)try{return u(r).byContractAndChainId(l(e),t)}catch(r){return null===(n=d(t))||void 0===n?void 0:n.byContractAndChainId(l(e),t)}return null===(o=d(t))||void 0===o?void 0:o.byContractAndChainId(l(e),t)};const u=e=>{const r=t.from(e,"base64"),n={},o=[];let s=0;for(;s<r.length;){const e=r.readUInt32BE(s);s+=4;const t=r.slice(s,s+e);let i=0;const a=t.readUInt8(i);i+=1;const c=t.slice(i,i+a).toString("ascii");i+=a;const u=l(t.slice(i,i+20).toString("hex"));i+=20;const d=t.readUInt32BE(i);i+=4;const f=t.readUInt32BE(i);i+=4;const h={ticker:c,contractAddress:u,decimals:d,chainId:f,signature:t.slice(i),data:t};o.push(h),n[String(f)+":"+u]=h,s+=e}return{list:()=>o,byContractAndChainId:(e,t)=>n[String(t)+":"+e]}},d=(()=>{const e={};return t=>{if(e[t])return e[t];const r=a.signatures[t];if(!r)return null;const n=u(r);return e[t]=n,n}})()}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/services/ledger/erc20.js"}],[840,{"../../modules/Uniswap":837,"../../modules/Uniswap/constants":835,"../../utils":843,"./contracts":838,"./erc20":839,"./nfts":842,"@ethersproject/abi":506,"@ethersproject/transactions":614,"@ledgerhq/domain-service/lib/signers/index":745,"@ledgerhq/logs":886,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const o=e("@ethersproject/transactions"),s=e("@ethersproject/abi"),i=e("@ledgerhq/logs"),a=e("@ledgerhq/domain-service/lib/signers/index"),c=e("../../modules/Uniswap/constants"),l=e("./erc20"),u=e("../../modules/Uniswap"),d=e("./contracts"),f=e("./nfts"),h=e("../../utils"),p=(e,t,r,o)=>n(void 0,void 0,void 0,(function*(){const n={nfts:[],erc20Tokens:[]};if(o.nft){const o=yield(0,f.getNFTInfo)(e,t,r);o?((0,i.log)("ethereum","loaded nft info for "+o.contractAddress+" ("+o.collectionName+")"),n.nfts.push(o.data)):(0,i.log)("ethereum","couldn't load nft info for "+e)}if(o.token){const o=yield(0,l.findERC20SignaturesInfo)(r,t),s=(0,l.byContractAddressAndChainId)(e,t,o);s?((0,i.log)("ethereum","loaded erc20token info for "+s.contractAddress+" ("+s.ticker+")"),n.erc20Tokens.push(s.data.toString("hex"))):(0,i.log)("ethereum","couldn't load erc20token info for "+e)}return n}));r.default={resolveTransaction:(e,r,a)=>n(void 0,void 0,void 0,(function*(){var l;const g=t.from(e,"hex"),m=(0,o.parse)(`0x${g.toString("hex")}`),E=(0,h.getChainIdAsUint32)(m.chainId),{domains:_}=a,b=null===(l=m.to)||void 0===l?void 0:l.toLowerCase();if(!b)return{nfts:[],erc20Tokens:[],externalPlugin:[],plugin:[],domains:[]};const y=m.data.length>=10&&m.data.substring(0,10),v=[];if(y){const e={token:a.erc20&&h.tokenSelectors.includes(y),nft:a.nft&&h.nftSelectors.includes(y),externalPlugins:a.externalPlugins,uniswapV3:a.uniswapV3},t=yield((e,t,r,o,a,l)=>n(void 0,void 0,void 0,(function*(){let n={externalPlugin:[],plugin:[],nfts:[],erc20Tokens:[],domains:[]};if(l.nft){const r=yield(0,f.loadNftPlugin)(e,t,o,a);r?n.plugin.push(r):(0,i.log)("ethereum","no NFT plugin payload for selector "+t+" and address "+e)}if(l.externalPlugins&&e!==c.UNISWAP_UNIVERSAL_ROUTER_ADDRESS){const c=yield(0,d.loadInfosForContractMethod)(e,t,o,a);if(c){const{plugin:e,payload:l,signature:u,erc20OfInterest:d,abi:f}=c;if(e&&((0,i.log)("ethereum",`found plugin (${e}) for selector: ${t}`),n.externalPlugin.push({payload:l,signature:u})),d&&d.length&&f){const e=new s.Interface(f).parseTransaction(r).args;for(const t of d){const r=t.split(".").reduce(((e,t)=>"-1"===t&&Array.isArray(e)?e[e.length-1]:e[t]),e),s=yield p(r,o,a,{nft:!1,externalPlugins:!1,token:!0,uniswapV3:!1});n=(0,h.mergeResolutions)([n,s])}}}else(0,i.log)("ethereum","no infos for selector "+t)}if(l.uniswapV3){const{pluginData:e,tokenDescriptors:t}=yield(0,u.loadInfosForUniswap)(r,o);e&&t&&(n.externalPlugin.push({payload:e.toString("hex"),signature:""}),n.erc20Tokens.push(...t.map((e=>e.toString("hex")))))}return n})))(b,y,m,E,r,e);t&&v.push(t);const o=yield p(b,E,r,e);o&&v.push(o)}if(_){const e={domains:_};v.push(e)}return(0,h.mergeResolutions)(v)})),signDomainResolution:a.signDomainResolution,signAddressResolution:a.signAddressResolution}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/services/ledger/index.js"}],[841,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getLoadConfig=void 0;const n={nftExplorerBaseURL:"https://nft.api.live.ledger.com/v1/ethereum",pluginBaseURL:"https://cdn.live.ledger.com",extraPlugins:null,cryptoassetsBaseURL:"https://cdn.live.ledger.com/cryptoassets",calServiceURL:"https://crypto-assets-service.api.ledger.com"};r.getLoadConfig=function(e){return Object.assign(Object.assign({},n),e)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/services/ledger/loadConfig.js"}],[842,{"./loadConfig":841,"@ledgerhq/logs":886,axios:844},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.loadNftPlugin=r.getNFTInfo=void 0;const s=o(e("axios")),i=e("./loadConfig"),a=e("@ledgerhq/logs");r.getNFTInfo=(e,t,r)=>n(void 0,void 0,void 0,(function*(){var n;const{nftExplorerBaseURL:o}=(0,i.getLoadConfig)(r);if(!o)return;const c=`${o}/${t}/contracts/${e}`,l=yield s.default.get(c).then((e=>e.data)).catch((e=>((0,a.log)("error","could not fetch from "+c+": "+String(e)),null)));if(!l)return;const u=l.payload,d=parseInt(u.slice(4,6),16),f=null===(n=u.substr(6,2*d).match(/.{2}/g))||void 0===n?void 0:n.reduce(((e,t)=>e+String.fromCharCode(parseInt(t,16))),"");return{contractAddress:e,collectionName:f||"",data:u}}));r.loadNftPlugin=(e,t,r,o)=>n(void 0,void 0,void 0,(function*(){const{nftExplorerBaseURL:n}=(0,i.getLoadConfig)(o);if(!n)return;const c=`${n}/${r}/contracts/${e}/plugin-selector/${t}`,l=yield s.default.get(c).then((e=>e.data)).catch((e=>((0,a.log)("error","could not fetch from "+c+": "+String(e)),null)));if(!l)return;return l.payload}))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/services/ledger/nfts.js"}],[843,{"@ethersproject/rlp":582,"@ledgerhq/evm-tools/lib/selectors/index":790,"bignumber.js":883,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.safeChunkTransaction=r.getV=r.getChainIdAsUint32=r.getParity=r.mergeResolutions=r.nftSelectors=r.tokenSelectors=r.intAsHexBytes=r.maybeHexBuffer=r.hexBuffer=r.splitPath=r.padHexString=r.ERC1155_CLEAR_SIGNED_SELECTORS=r.ERC721_CLEAR_SIGNED_SELECTORS=r.ERC20_CLEAR_SIGNED_SELECTORS=void 0;const i=e("bignumber.js"),a=s(e("@ethersproject/rlp")),c=e("@ledgerhq/evm-tools/lib/selectors/index");Object.defineProperty(r,"ERC20_CLEAR_SIGNED_SELECTORS",{enumerable:!0,get:function(){return c.ERC20_CLEAR_SIGNED_SELECTORS}}),Object.defineProperty(r,"ERC721_CLEAR_SIGNED_SELECTORS",{enumerable:!0,get:function(){return c.ERC721_CLEAR_SIGNED_SELECTORS}}),Object.defineProperty(r,"ERC1155_CLEAR_SIGNED_SELECTORS",{enumerable:!0,get:function(){return c.ERC1155_CLEAR_SIGNED_SELECTORS}});function l(e){if(!e)return t.alloc(0);const n=e.startsWith("0x")?e.slice(2):e;return t.from((0,r.padHexString)(n),"hex")}r.padHexString=e=>e.length%2?"0"+e:e,r.splitPath=function(e){const t=[];return e.split("/").forEach((e=>{let r=parseInt(e,10);isNaN(r)||(e.length>1&&"'"===e[e.length-1]&&(r+=2147483648),t.push(r))})),t},r.hexBuffer=l,r.maybeHexBuffer=function(e){return e?l(e):null};r.intAsHexBytes=(e,t)=>e.toString(16).padStart(2*t,"0"),r.tokenSelectors=Object.values(c.ERC20_CLEAR_SIGNED_SELECTORS),r.nftSelectors=[...Object.values(c.ERC721_CLEAR_SIGNED_SELECTORS),...Object.values(c.ERC1155_CLEAR_SIGNED_SELECTORS)];r.mergeResolutions=e=>{const t={nfts:[],erc20Tokens:[],externalPlugin:[],plugin:[],domains:[]};for(const r of e)for(const e in r)t[e].push(...r[e]);return t};r.getParity=(e,t,n)=>{if(n)return e;const o=2*(0,r.getChainIdAsUint32)(t)+35;if(o%256===e)return 0;if((o+1)%256===e)return 1;throw new Error("Invalid v value")};r.getChainIdAsUint32=e=>{const n=t.from((0,r.padHexString)(new i.BigNumber(e).toString(16)),"hex").subarray(0,4);return parseInt(n.toString("hex"),16)};r.getV=(e,t,n)=>{if(t.isZero())return e.toString(16);const o=(0,r.getParity)(e,t,n);return n?(0,r.padHexString)(o.toString(16)):(0,r.padHexString)(t.times(2).plus(35).plus(o).toString(16))};r.safeChunkTransaction=(e,r,n)=>{const o=255,s=t.concat([r,e]);if(s.length<=o)return[s];if(n){const e=Math.ceil(s.length/o);return new Array(e).fill(null).map(((e,t)=>s.subarray(t*o,(t+1)*o)))}const i=a.decode(e).slice(-3),c=l(a.encode(i)).subarray(1);let u=0;const d=s.length%o;if(0===d||d>c.length)u=o;else for(let e=1;e<=o;e++){const t=s.length%(o-e);if(0===t||t>c.length){u=o-e;break}}const f=Math.ceil(s.length/u);return new Array(f).fill(null).map(((e,t)=>s.subarray(t*u,(t+1)*u)))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth",file:"node_modules/@ledgerhq/hw-app-eth/lib/utils.js"}],[844,{"./lib/axios":846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/axios")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/index.js"}],[845,{"../cancel/CanceledError":848,"../core/AxiosError":851,"../core/buildFullPath":853,"../defaults/transitional":859,"../helpers/parseProtocol":873,"../platform":881,"./../core/settle":856,"./../helpers/buildURL":864,"./../helpers/cookies":866,"./../helpers/isURLSameOrigin":870,"./../helpers/parseHeaders":872,"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("./../core/settle"),s=e("./../helpers/cookies"),i=e("./../helpers/buildURL"),a=e("../core/buildFullPath"),c=e("./../helpers/parseHeaders"),l=e("./../helpers/isURLSameOrigin"),u=e("../defaults/transitional"),d=e("../core/AxiosError"),f=e("../cancel/CanceledError"),h=e("../helpers/parseProtocol"),p=e("../platform");t.exports=function(e){return new Promise((function(t,r){var g,m=e.data,E=e.headers,_=e.responseType,b=e.withXSRFToken;function y(){e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g)}n.isFormData(m)&&n.isStandardBrowserEnv()&&delete E["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",T=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";E.Authorization="Basic "+btoa(w+":"+T)}var A=a(e.baseURL,e.url);function C(){if(v){var n="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,s={data:_&&"text"!==_&&"json"!==_?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};o((function(e){t(e),y()}),(function(e){r(e),y()}),s),v=null}}if(v.open(e.method.toUpperCase(),i(A,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(C)},v.onabort=function(){v&&(r(new d("Request aborted",d.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new d("Network Error",d.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new d(t,n.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,v)),v=null},n.isStandardBrowserEnv()&&(b&&n.isFunction(b)&&(b=b(e)),b||!1!==b&&l(A))){var S=e.xsrfHeaderName&&e.xsrfCookieName&&s.read(e.xsrfCookieName);S&&(E[e.xsrfHeaderName]=S)}"setRequestHeader"in v&&n.forEach(E,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete E[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),_&&"json"!==_&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(g=function(t){v&&(r(!t||t.type?new f(null,e,v):t),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g))),m||!1===m||0===m||""===m||(m=null);var O=h(A);O&&-1===p.protocols.indexOf(O)?r(new d("Unsupported protocol "+O+":",d.ERR_BAD_REQUEST,e)):v.send(m)}))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/adapters/xhr.js"}],[846,{"../lib/core/AxiosError":851,"./cancel/CancelToken":847,"./cancel/CanceledError":848,"./cancel/isCancel":849,"./core/Axios":850,"./core/mergeConfig":855,"./defaults":858,"./env/data":861,"./helpers/bind":863,"./helpers/formDataToJSON":867,"./helpers/isAxiosError":869,"./helpers/spread":874,"./helpers/toFormData":875,"./utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./utils"),o=e("./helpers/bind"),s=e("./core/Axios"),i=e("./core/mergeConfig"),a=e("./defaults"),c=e("./helpers/formDataToJSON");var l=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(a);l.Axios=s,l.CanceledError=e("./cancel/CanceledError"),l.CancelToken=e("./cancel/CancelToken"),l.isCancel=e("./cancel/isCancel"),l.VERSION=e("./env/data").version,l.toFormData=e("./helpers/toFormData"),l.AxiosError=e("../lib/core/AxiosError"),l.Cancel=l.CanceledError,l.all=function(e){return Promise.all(e)},l.spread=e("./helpers/spread"),l.isAxiosError=e("./helpers/isAxiosError"),l.formToJSON=function(e){return c(n.isHTMLForm(e)?new FormData(e):e)},t.exports=l,t.exports.default=l}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/axios.js"}],[847,{"./CanceledError":848},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./CanceledError");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,o,s){r.reason||(r.reason=new n(e,o,s),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/cancel/CancelToken.js"}],[848,{"../core/AxiosError":851,"../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../core/AxiosError");function o(e,t,r){n.call(this,null==e?"canceled":e,n.ERR_CANCELED,t,r),this.name="CanceledError"}e("../utils").inherits(o,n,{__CANCEL__:!0}),t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/cancel/CanceledError.js"}],[849,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){return!(!e||!e.__CANCEL__)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/cancel/isCancel.js"}],[85,{"../util":135,"@metamask/json-rpc-engine":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPendingNonceMiddleware=function({getPendingNonce:e}){return(0,n.createAsyncMiddleware)((async(t,r,n)=>{const{method:o,params:s}=t;if("eth_getTransactionCount"!==o)return void n();const[i,a]=s;"pending"===a?r.result=await e(i,t.networkClientId):n()}))},r.createPendingTxMiddleware=function({getPendingTransactionByHash:e}){return(0,n.createAsyncMiddleware)((async(t,r,n)=>{const{method:s,params:i}=t;if("eth_getTransactionByHash"!==s)return void n();const[a]=i,c=e(a);c?r.result=(0,o.formatTxMetaForRpcResult)(c):n()}))};var n=e("@metamask/json-rpc-engine"),o=e("../util")}}},{package:"$root$",file:"app/scripts/lib/middleware/pending.js"}],[850,{"../helpers/buildURL":864,"../helpers/validator":877,"./../utils":882,"./InterceptorManager":852,"./buildFullPath":853,"./dispatchRequest":854,"./mergeConfig":855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("../helpers/buildURL"),s=e("./InterceptorManager"),i=e("./dispatchRequest"),a=e("./mergeConfig"),c=e("./buildFullPath"),l=e("../helpers/validator"),u=l.validators;function d(e){this.defaults=e,this.interceptors={request:new s,response:new s}}d.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==undefined&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var o=t.paramsSerializer;o!==undefined&&l.assertOptions(o,{encode:u.function,serialize:u.function},!0),n.isFunction(o)&&(t.paramsSerializer={serialize:o});var s=[],c=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var d,f=[];if(this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)})),!c){var h=[i,undefined];for(Array.prototype.unshift.apply(h,s),h=h.concat(f),d=Promise.resolve(t);h.length;)d=d.then(h.shift(),h.shift());return d}for(var p=t;s.length;){var g=s.shift(),m=s.shift();try{p=g(p)}catch(e){m(e);break}}try{d=i(p)}catch(e){return Promise.reject(e)}for(;f.length;)d=d.then(f.shift(),f.shift());return d},d.prototype.getUri=function(e){e=a(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(a(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),t.exports=d}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/Axios.js"}],[851,{"../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");function o(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=o.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){i[e]={value:e}})),Object.defineProperties(o,i),Object.defineProperty(s,"isAxiosError",{value:!0}),o.from=function(e,t,r,i,a,c){var l=Object.create(s);return n.toFlatObject(e,l,(function(e){return e!==Error.prototype})),o.call(l,e.message,t,r,i,a),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l},t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/AxiosError.js"}],[852,{"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.clear=function(){this.handlers&&(this.handlers=[])},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},t.exports=o}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/InterceptorManager.js"}],[853,{"../helpers/combineURLs":865,"../helpers/isAbsoluteURL":868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../helpers/isAbsoluteURL"),o=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!n(t)?o(e,t):t}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/buildFullPath.js"}],[854,{"../cancel/CanceledError":848,"../cancel/isCancel":849,"../defaults":858,"../helpers/normalizeHeaderName":871,"./../utils":882,"./transformData":857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("./transformData"),s=e("../cancel/isCancel"),i=e("../defaults"),a=e("../cancel/CanceledError"),c=e("../helpers/normalizeHeaderName");function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}t.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,null,e.transformRequest),c(e.headers,"Accept"),c(e.headers,"Content-Type"),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,t.status,e.transformResponse),t}),(function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,t.response.status,e.transformResponse))),Promise.reject(t)}))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/dispatchRequest.js"}],[855,{"../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");t.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isEmptyObject(t)?n.merge({},e):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(undefined,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(undefined,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(undefined,e[r]):o(undefined,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(undefined,e[r]):void 0}var l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||s,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/mergeConfig.js"}],[856,{"./AxiosError":851},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./AxiosError");t.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/settle.js"}],[857,{"../defaults":858,"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=e("../defaults");t.exports=function(e,t,r,s){var i=this||o;return n.forEach(s,(function(n){e=n.call(i,e,t,r)})),e}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/core/transformData.js"}],[858,{"../adapters/http":845,"../adapters/xhr":845,"../core/AxiosError":851,"../helpers/formDataToJSON":867,"../helpers/normalizeHeaderName":871,"../helpers/toFormData":875,"../helpers/toURLEncodedForm":876,"../platform":881,"../utils":882,"./transitional":859,_process:5008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("../utils"),o=e("../helpers/normalizeHeaderName"),s=e("../core/AxiosError"),i=e("./transitional"),a=e("../helpers/toFormData"),c=e("../helpers/toURLEncodedForm"),l=e("../platform"),u=e("../helpers/formDataToJSON"),d={"Content-Type":"application/x-www-form-urlencoded"};function f(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h,p={transitional:i,adapter:("undefined"!=typeof XMLHttpRequest?h=e("../adapters/xhr"):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(h=e("../adapters/http")),h),transformRequest:[function(e,t){o(t,"Accept"),o(t,"Content-Type");var r,s=t&&t["Content-Type"]||"",i=s.indexOf("application/json")>-1,l=n.isObject(e);if(l&&n.isHTMLForm(e)&&(e=new FormData(e)),n.isFormData(e))return i?JSON.stringify(u(e)):e;if(n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return f(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(l){if(-1!==s.indexOf("application/x-www-form-urlencoded"))return c(e,this.formSerializer).toString();if((r=n.isFileList(e))||s.indexOf("multipart/form-data")>-1){var d=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||i?(f(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,r=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&n.isString(e)&&(r&&!this.responseType||o)){var i=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l.classes.FormData,Blob:l.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){p.headers[e]=n.merge(d)})),t.exports=p}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/defaults/index.js"}],[859,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/defaults/transitional.js"}],[86,{events:4354,loglevel:4872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("events")),o=s(e("loglevel"));function s(e){return e&&e.__esModule?e:{default:e}}class i extends n.default{constructor(e={}){super();const t=e.migrations||[];this.migrations=t.sort(((e,t)=>e.version-t.version));const r=this.migrations.slice(-1)[0];this.defaultVersion=e.defaultVersion||r&&r.version||0}async migrateData(e=this.generateInitialState()){const t=this.migrations.filter((function(t){return t.version>e.meta.version}));for(const r of t)try{o.default.info(`Running migration ${r.version}...`);const t=await r.migrate(e);if(!t.data)throw new Error("Migrator - migration returned empty data");if(t.version!==undefined&&t.meta.version!==r.version)throw new Error("Migrator - Migration did not update version number correctly");e=t,o.default.info(`Migration ${r.version} complete`)}catch(t){const n=t.message;return t.message=`MetaMask Migration Error #${r.version}: ${n}`,this.emit("error",t),e}return e}generateInitialState(e){return{meta:{version:this.defaultVersion},data:e}}}r.default=i}}},{package:"$root$",file:"app/scripts/lib/migrator/index.js"}],[860,{"form-data":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("form-data")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/env/classes/FormData.js"}],[861,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={version:"0.28.1"}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/env/data.js"}],[862,{"./toFormData":875},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./toFormData");function o(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function s(e,t){this._pairs=[],e&&n(e,this,t)}var i=s.prototype;i.append=function(e,t){this._pairs.push([e,t])},i.toString=function(e){var t=e?function(t){return e.call(this,t,o)}:o;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")},t.exports=s}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/AxiosURLSearchParams.js"}],[863,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){return function(){return e.apply(t,arguments)}}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/bind.js"}],[864,{"../helpers/AxiosURLSearchParams":862,"../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils"),o=e("../helpers/AxiosURLSearchParams");function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,r){if(!t)return e;var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i));var a,c=r&&r.encode||s,l=r&&r.serialize;return(a=l?l(t,r):n.isURLSearchParams(t)?t.toString():new o(t,r).toString(c))&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/buildURL.js"}],[865,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/combineURLs.js"}],[866,{"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");t.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/cookies.js"}],[867,{"../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");t.exports=function(e){function t(e,r,o,s){var i=e[s++],a=Number.isFinite(+i),c=s>=e.length;return i=!i&&n.isArray(o)?o.length:i,c?(n.hasOwnProperty(o,i)?o[i]=[o[i],r]:o[i]=r,!a):(o[i]&&n.isObject(o[i])||(o[i]=[]),t(e,r,o[i],s)&&n.isArray(o[i])&&(o[i]=function(e){var t,r,n={},o=Object.keys(e),s=o.length;for(t=0;t<s;t++)n[r=o[t]]=e[r];return n}(o[i])),!a)}if(n.isFormData(e)&&n.isFunction(e.entries)){var r={};return n.forEachEntry(e,(function(e,o){t(function(e){return n.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),o,r,0)})),r}return null}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/formDataToJSON.js"}],[868,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/isAbsoluteURL.js"}],[869,{"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");t.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/isAxiosError.js"}],[870,{"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils");t.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/isURLSameOrigin.js"}],[871,{"../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils");t.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/normalizeHeaderName.js"}],[872,{"./../utils":882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./../utils"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.slice(0,s)).toLowerCase(),r=n.trim(e.slice(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/parseHeaders.js"}],[873,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/parseProtocol.js"}],[874,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){return function(t){return e.apply(null,t)}}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/spread.js"}],[875,{"../core/AxiosError":851,"../env/classes/FormData":860,"../utils":882,buffer:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("../utils"),o=e("../core/AxiosError"),s=e("../env/classes/FormData");function i(e){return n.isPlainObject(e)||n.isArray(e)}function a(e){return n.endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,r){return e?e.concat(t).map((function(e,t){return e=a(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}var l=n.toFlatObject(n,{},null,(function(e){return/^is[A-Z]/.test(e)}));t.exports=function(e,t,u){if(!n.isObject(e))throw new TypeError("target must be an object");t=t||new(s||FormData);var d,f=(u=n.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!n.isUndefined(t[e])}))).metaTokens,h=u.visitor||_,p=u.dots,g=u.indexes,m=(u.Blob||"undefined"!=typeof Blob&&Blob)&&((d=t)&&n.isFunction(d.append)&&"FormData"===d[Symbol.toStringTag]&&d[Symbol.iterator]);if(!n.isFunction(h))throw new TypeError("visitor must be a function");function E(e){if(null===e)return"";if(n.isDate(e))return e.toISOString();if(!m&&n.isBlob(e))throw new o("Blob is not supported. Use a Buffer instead.");return n.isArrayBuffer(e)||n.isTypedArray(e)?m&&"function"==typeof Blob?new Blob([e]):r.from(e):e}function _(e,r,o){var s=e;if(e&&!o&&"object"==typeof e)if(n.endsWith(r,"{}"))r=f?r:r.slice(0,-2),e=JSON.stringify(e);else if(n.isArray(e)&&function(e){return n.isArray(e)&&!e.some(i)}(e)||n.isFileList(e)||n.endsWith(r,"[]")&&(s=n.toArray(e)))return r=a(r),s.forEach((function(e,o){!n.isUndefined(e)&&t.append(!0===g?c([r],o,p):null===g?r:r+"[]",E(e))})),!1;return!!i(e)||(t.append(c(o,r,p),E(e)),!1)}var b=[],y=Object.assign(l,{defaultVisitor:_,convertValue:E,isVisitable:i});if(!n.isObject(e))throw new TypeError("data must be an object");return function e(r,o){if(!n.isUndefined(r)){if(-1!==b.indexOf(r))throw Error("Circular reference detected in "+o.join("."));b.push(r),n.forEach(r,(function(r,s){!0===(!n.isUndefined(r)&&h.call(t,r,n.isString(s)?s.trim():s,o,y))&&e(r,o?o.concat(s):[s])})),b.pop()}}(e),t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/toFormData.js"}],[876,{"../platform/":881,"../utils":882,"./toFormData":875},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../utils"),o=e("./toFormData"),s=e("../platform/");t.exports=function(e,t){return o(e,new s.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,o){return s.isNode&&n.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/toURLEncodedForm.js"}],[877,{"../core/AxiosError":851,"../env/data":861},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../env/data").version,o=e("../core/AxiosError"),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={};s.transitional=function(e,t,r){function s(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new o(s(n," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!i[n]&&(i[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},t.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),s=n.length;s-- >0;){var i=n[s],a=t[i];if(a){var c=e[i],l=c===undefined||a(c,i,e);if(!0!==l)throw new o("option "+i+" must be "+l,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+i,o.ERR_BAD_OPTION)}},validators:s}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/helpers/validator.js"}],[878,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=FormData}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/platform/browser/classes/FormData.js"}],[879,{"../../../helpers/AxiosURLSearchParams":862},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../helpers/AxiosURLSearchParams");t.exports="undefined"!=typeof URLSearchParams?URLSearchParams:n}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js"}],[880,{"./classes/FormData":878,"./classes/URLSearchParams":879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={isBrowser:!0,classes:{URLSearchParams:e("./classes/URLSearchParams"),FormData:e("./classes/FormData"),Blob:Blob},protocols:["http","https","file","blob","url","data"]}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/platform/browser/index.js"}],[881,{"./node/":880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./node/")}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/platform/index.js"}],[882,{"./helpers/bind":863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,o=e("./helpers/bind"),s=Object.prototype.toString,i=(n=Object.create(null),function(e){var t=s.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var u=a("ArrayBuffer");function d(e){return"number"==typeof e}function f(e){return null!==e&&"object"==typeof e}function h(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),g=a("File"),m=a("Blob"),E=a("FileList");function _(e){return"[object Function]"===s.call(e)}var b=a("URLSearchParams");function y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var v,w=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return v&&e instanceof v});var T,A=a("HTMLFormElement"),C=(T=Object.prototype.hasOwnProperty,function(e,t){return T.call(e,t)});t.exports={isArray:c,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||s.call(e)===t||_(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:d,isObject:f,isPlainObject:h,isEmptyObject:function(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isUndefined:l,isDate:p,isFile:g,isBlob:m,isFunction:_,isStream:function(e){return f(e)&&_(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){var e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:y,merge:function e(){var t={};function r(r,n){h(t[n])&&h(r)?t[n]=e(t[n],r):h(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)y(arguments[n],r);return t},extend:function(e,t,r){return y(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var o,s,i,a={};if(t=t||{},null==e)return t;do{for(s=(o=Object.getOwnPropertyNames(e)).length;s-- >0;)i=o[s],n&&!n(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==r&&Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(r===undefined||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(c(e))return e;var t=e.length;if(!d(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:E,forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var o=r.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:A,hasOwnProperty:C}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>axios",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/axios/lib/utils.js"}],[883,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,s=Math.floor,i="[BigNumber Error] ",a=i+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,u=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,r,n=1,o=e.length,s=e[0]+"";n<o;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);s+=t}for(o=s.length;48===s.charCodeAt(--o););return s.slice(0,o+1||1)}function m(e,t){var r,n,o=e.c,s=t.c,i=e.s,a=t.s,c=e.e,l=t.e;if(!i||!a)return null;if(r=o&&!o[0],n=s&&!s[0],r||n)return r?n?0:-a:i;if(i!=a)return i;if(r=i<0,n=c==l,!o||!s)return n?0:!o^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=o.length)<(l=s.length)?c:l,i=0;i<a;i++)if(o[i]!=s[i])return o[i]>s[i]^r?1:-1;return c==l?0:c>l^r?1:-1}function E(e,t,r,n){if(e<t||e>r||e!==s(e))throw Error(i+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return p(e.e/l)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,v,w,T,A,C,S,O,P,N,R=V.prototype={constructor:V,toString:null,valueOf:null},I=new V(1),x=20,k=4,L=-7,D=21,U=-1e7,M=1e7,F=!1,j=1,B=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function V(e,t){var r,o,i,c,d,f,h,p,g=this;if(!(g instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>M?g.c=g.e=null:e.e<U?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>M?g.c=g.e=null:(g.e=c,g.c=[e]))}p=String(e)}else{if(!n.test(p=String(e)))return w(g,p,f);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(E(t,2,H.length,"Base"),10==t&&G)return K(g=new V(e),x+g.e+1,k);if(p=String(e),f="number"==typeof e){if(0*e!=0)return w(g,p,f,t);if(g.s=1/e<0?(p=p.slice(1),-1):1,V.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=H.slice(0,t),c=d=0,h=p.length;d<h;d++)if(r.indexOf(o=p.charAt(d))<0){if("."==o){if(d>c){c=h;continue}}else if(!i&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){i=!0,d=-1,c=0;continue}return w(g,String(e),f,t)}f=!1,(c=(p=v(p,t,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(d,++h)){if(h-=d,f&&V.DEBUG&&h>15&&(e>u||e!==s(e)))throw Error(a+g.s*e);if((c=c-d-1)>M)g.c=g.e=null;else if(c<U)g.c=[g.e=0];else{if(g.e=c,g.c=[],d=(c+1)%l,c<0&&(d+=l),d<h){for(d&&g.c.push(+p.slice(0,d)),h-=l;d<h;)g.c.push(+p.slice(d,d+=l));d=l-(p=p.slice(d)).length}else d-=h;for(;d--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function W(e,t,r,n){var o,s,i,a,c;if(null==r?r=k:E(r,0,8),!e.c)return e.toString();if(o=e.c[0],i=e.e,null==t)c=g(e.c),c=1==n||2==n&&(i<=L||i>=D)?b(c,i):y(c,i,"0");else if(s=(e=K(new V(e),t,r)).e,a=(c=g(e.c)).length,1==n||2==n&&(t<=s||s<=L)){for(;a<t;c+="0",a++);c=b(c,s)}else if(t-=i,c=y(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function z(e,t){for(var r,n,o=1,s=new V(e[0]);o<e.length;o++)(!(n=new V(e[o])).s||(r=m(s,n))===t||0===r&&s.s===t)&&(s=n);return s}function $(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*l-1)>M?e.c=e.e=null:r<U?e.c=[e.e=0]:(e.e=r,e.c=t),e}function K(e,t,r,n){var i,a,u,f,h,p,g,m=e.c,E=d;if(m){e:{for(i=1,f=m[0];f>=10;f/=10,i++);if((a=t-i)<0)a+=l,u=t,h=m[p=0],g=s(h/E[i-u-1]%10);else if((p=o((a+1)/l))>=m.length){if(!n)break e;for(;m.length<=p;m.push(0));h=g=0,i=1,u=(a%=l)-l+1}else{for(h=f=m[p],i=1;f>=10;f/=10,i++);g=(u=(a%=l)-l+i)<0?0:s(h/E[i-u-1]%10)}if(n=n||t<0||null!=m[p+1]||(u<0?h:h%E[i-u-1]),n=r<4?(g||n)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(a>0?u>0?h/E[i-u]:0:m[p-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=E[(l-t%l)%l],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=p,f=1,p--):(m.length=p+1,f=E[l-a],m[p]=u>0?s(h/E[i-u]%E[u])*f:0),n)for(;;){if(0==p){for(a=1,u=m[0];u>=10;u/=10,a++);for(u=m[0]+=f,f=1;u>=10;u/=10,f++);a!=f&&(e.e++,m[0]==c&&(m[0]=1));break}if(m[p]+=f,m[p]!=c)break;m[p--]=0,f=1}for(a=m.length;0===m[--a];m.pop());}e.e>M?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}function Y(e){var t,r=e.e;return null===r?e.toString():(t=g(e.c),t=r<=L||r>=D?b(t,r):y(t,r,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(i+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(E(r=e[t],0,h,t),x=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(E(r=e[t],0,8,t),k=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(E(r[0],-h,0,t),E(r[1],0,h,t),L=r[0],D=r[1]):(E(r,-h,h,t),L=-(D=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)E(r[0],-h,-1,t),E(r[1],1,h,t),U=r[0],M=r[1];else{if(E(r,-h,h,t),!r)throw Error(i+t+" cannot be zero: "+r);U=-(M=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(i+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!r,Error(i+"crypto unavailable");F=r}else F=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(E(r=e[t],0,9,t),j=r),e.hasOwnProperty(t="POW_PRECISION")&&(E(r=e[t],0,h,t),B=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(i+t+" not an object: "+r);q=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(i+t+" invalid: "+r);G="0123456789"==r.slice(0,10),H=r}}return{DECIMAL_PLACES:x,ROUNDING_MODE:k,EXPONENTIAL_AT:[L,D],RANGE:[U,M],CRYPTO:F,MODULO_MODE:j,POW_PRECISION:B,FORMAT:q,ALPHABET:H}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,r,n=e.c,o=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&o>=-h&&o<=h&&o===s(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==s(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===a||1===a||-1===a))return!0;throw Error(i+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return z(arguments,-1)},V.minimum=V.min=function(){return z(arguments,1)},V.random=(T=9007199254740992,A=Math.random()*T&2097151?function(){return s(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,c,u=0,f=[],p=new V(I);if(null==e?e=x:E(e,0,h),a=o(e/l),F)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(c=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(f.push(c%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw F=!1,Error(i+"crypto unavailable");for(t=crypto.randomBytes(a*=7);u<a;)(c=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(f.push(c%1e14),u+=7);u=a/7}if(!F)for(;u<a;)(c=A())<9e15&&(f[u++]=c%1e14);for(a=f[--u],e%=l,a&&e&&(c=d[l-e],f[u]=s(a/c)*c);0===f[u];f.pop(),u--);if(u<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=l);for(u=1,c=f[0];c>=10;c/=10,u++);u<l&&(n-=l-u)}return p.e=n,p.c=f,p}),V.sum=function(){for(var e=1,t=arguments,r=new V(t[0]);e<t.length;)r=r.plus(t[e++]);return r},v=function(){var e="0123456789";function t(e,t,r,n){for(var o,s,i=[0],a=0,c=e.length;a<c;){for(s=i.length;s--;i[s]*=t);for(i[0]+=n.indexOf(e.charAt(a++)),o=0;o<i.length;o++)i[o]>r-1&&(null==i[o+1]&&(i[o+1]=0),i[o+1]+=i[o]/r|0,i[o]%=r)}return i.reverse()}return function(n,o,s,i,a){var c,l,u,d,f,h,p,m,E=n.indexOf("."),_=x,b=k;for(E>=0&&(d=B,B=0,n=n.replace(".",""),h=(m=new V(o)).pow(n.length-E),B=d,m.c=t(y(g(h.c),h.e,"0"),10,s,e),m.e=m.c.length),u=d=(p=t(n,o,s,a?(c=H,e):(c=e,H))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(E<0?--u:(h.c=p,h.e=u,h.s=i,p=(h=r(h,m,_,b,s)).c,f=h.r,u=h.e),E=p[l=u+_+1],d=s/2,f=f||l<0||null!=p[l+1],f=b<4?(null!=E||f)&&(0==b||b==(h.s<0?3:2)):E>d||E==d&&(4==b||f||6==b&&1&p[l-1]||b==(h.s<0?8:7)),l<1||!p[0])n=f?y(c.charAt(1),-_,c.charAt(0)):c.charAt(0);else{if(p.length=l,f)for(--s;++p[--l]>s;)p[l]=0,l||(++u,p=[1].concat(p));for(d=p.length;!p[--d];);for(E=0,n="";E<=d;n+=c.charAt(p[E++]));n=y(n,u,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,o,s,i,a=0,c=e.length,l=t%f,u=t/f|0;for(e=e.slice();c--;)a=((o=l*(s=e[c]%f)+(n=u*s+(i=e[c]/f|0)*l)%f*f+a)/r|0)+(n/f|0)+u*i,e[c]=o%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var o,s;if(r!=n)s=r>n?1:-1;else for(o=s=0;o<r;o++)if(e[o]!=t[o]){s=e[o]>t[o]?1:-1;break}return s}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,i,a,u){var d,f,h,g,m,E,_,b,y,v,w,T,A,C,S,O,P,N=n.s==o.s?1:-1,R=n.c,I=o.c;if(!(R&&R[0]&&I&&I[0]))return new V(n.s&&o.s&&(R?!I||R[0]!=I[0]:I)?R&&0==R[0]||!I?0*N:N/0:NaN);for(y=(b=new V(N)).c=[],N=i+(f=n.e-o.e)+1,u||(u=c,f=p(n.e/l)-p(o.e/l),N=N/l|0),h=0;I[h]==(R[h]||0);h++);if(I[h]>(R[h]||0)&&f--,N<0)y.push(1),g=!0;else{for(C=R.length,O=I.length,h=0,N+=2,(m=s(u/(I[0]+1)))>1&&(I=e(I,m,u),R=e(R,m,u),O=I.length,C=R.length),A=O,w=(v=R.slice(0,O)).length;w<O;v[w++]=0);P=I.slice(),P=[0].concat(P),S=I[0],I[1]>=u/2&&S++;do{if(m=0,(d=t(I,v,O,w))<0){if(T=v[0],O!=w&&(T=T*u+(v[1]||0)),(m=s(T/S))>1)for(m>=u&&(m=u-1),_=(E=e(I,m,u)).length,w=v.length;1==t(E,v,_,w);)m--,r(E,O<_?P:I,_,u),_=E.length,d=1;else 0==m&&(d=m=1),_=(E=I.slice()).length;if(_<w&&(E=[0].concat(E)),r(v,E,w,u),w=v.length,-1==d)for(;t(I,v,O,w)<1;)m++,r(v,O<w?P:I,w,u),w=v.length}else 0===d&&(m++,v=[0]);y[h++]=m,v[0]?v[w++]=R[A]||0:(v=[R[A]],w=1)}while((A++<C||null!=v[0])&&N--);g=null!=v[0],y[0]||y.splice(0,1)}if(u==c){for(h=1,N=y[0];N>=10;N/=10,h++);K(b,i+(b.e=h+f*l-1)+1,a,g)}else b.e=f,b.r=+g;return b}}(),C=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,O=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,w=function(e,t,r,n){var o,s=r?t:t.replace(N,"");if(P.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(C,(function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t})),n&&(o=n,s=s.replace(S,"$1").replace(O,"0.$1")),t!=s))return new V(s,o);if(V.DEBUG)throw Error(i+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},R.absoluteValue=R.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},R.comparedTo=function(e,t){return m(this,new V(e,t))},R.decimalPlaces=R.dp=function(e,t){var r,n,o,s=this;if(null!=e)return E(e,0,h),null==t?t=k:E(t,0,8),K(new V(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=((o=r.length-1)-p(this.e/l))*l,o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},R.dividedBy=R.div=function(e,t){return r(this,new V(e,t),x,k)},R.dividedToIntegerBy=R.idiv=function(e,t){return r(this,new V(e,t),0,1)},R.exponentiatedBy=R.pow=function(e,t){var r,n,a,c,u,d,f,h,p=this;if((e=new V(e)).c&&!e.isInteger())throw Error(i+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new V(t)),u=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new V(Math.pow(+Y(p),u?e.s*(2-_(e)):+Y(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(n=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return c=p.s<0&&_(e)?-0:0,p.e>-1&&(c=1/c),new V(d?1/c:c);B&&(c=o(B/l+2))}for(u?(r=new V(.5),d&&(e.s=1),f=_(e)):f=(a=Math.abs(+Y(e)))%2,h=new V(I);;){if(f){if(!(h=h.times(p)).c)break;c?h.c.length>c&&(h.c.length=c):n&&(h=h.mod(t))}if(a){if(0===(a=s(a/2)))break;f=a%2}else if(K(e=e.times(r),e.e+1,1),e.e>14)f=_(e);else{if(0===(a=+Y(e)))break;f=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}return n?h:(d&&(h=I.div(h)),t?h.mod(t):c?K(h,B,k,undefined):h)},R.integerValue=function(e){var t=new V(this);return null==e?e=k:E(e,0,8),K(t,t.e+1,e)},R.isEqualTo=R.eq=function(e,t){return 0===m(this,new V(e,t))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(e,t){return m(this,new V(e,t))>0},R.isGreaterThanOrEqualTo=R.gte=function(e,t){return 1===(t=m(this,new V(e,t)))||0===t},R.isInteger=function(){return!!this.c&&p(this.e/l)>this.c.length-2},R.isLessThan=R.lt=function(e,t){return m(this,new V(e,t))<0},R.isLessThanOrEqualTo=R.lte=function(e,t){return-1===(t=m(this,new V(e,t)))||0===t},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(e,t){var r,n,o,s,i=this,a=i.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,i.plus(e);var u=i.e/l,d=e.e/l,f=i.c,h=e.c;if(!u||!d){if(!f||!h)return f?(e.s=-t,e):new V(h?i:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new V(f[0]?i:3==k?-0:0)}if(u=p(u),d=p(d),f=f.slice(),a=u-d){for((s=a<0)?(a=-a,o=f):(d=u,o=h),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(n=(s=(a=f.length)<(t=h.length))?a:t,a=t=0;t<n;t++)if(f[t]!=h[t]){s=f[t]<h[t];break}if(s&&(o=f,f=h,h=o,e.s=-e.s),(t=(n=h.length)-(r=f.length))>0)for(;t--;f[r++]=0);for(t=c-1;n>a;){if(f[--n]<h[n]){for(r=n;r&&!f[--r];f[r]=t);--f[r],f[n]+=c}f[n]-=h[n]}for(;0==f[0];f.splice(0,1),--d);return f[0]?$(e,f,d):(e.s=3==k?-1:1,e.c=[e.e=0],e)},R.modulo=R.mod=function(e,t){var n,o,s=this;return e=new V(e,t),!s.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||s.c&&!s.c[0]?new V(s):(9==j?(o=e.s,e.s=1,n=r(s,e,0,3),e.s=o,n.s*=o):n=r(s,e,0,j),(e=s.minus(n.times(e))).c[0]||1!=j||(e.s=s.s),e)},R.multipliedBy=R.times=function(e,t){var r,n,o,s,i,a,u,d,h,g,m,E,_,b,y,v=this,w=v.c,T=(e=new V(e,t)).c;if(!(w&&T&&w[0]&&T[0]))return!v.s||!e.s||w&&!w[0]&&!T||T&&!T[0]&&!w?e.c=e.e=e.s=null:(e.s*=v.s,w&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=p(v.e/l)+p(e.e/l),e.s*=v.s,(u=w.length)<(g=T.length)&&(_=w,w=T,T=_,o=u,u=g,g=o),o=u+g,_=[];o--;_.push(0));for(b=c,y=f,o=g;--o>=0;){for(r=0,m=T[o]%y,E=T[o]/y|0,s=o+(i=u);s>o;)r=((d=m*(d=w[--i]%y)+(a=E*d+(h=w[i]/y|0)*m)%y*y+_[s]+r)/b|0)+(a/y|0)+E*h,_[s--]=d%b;_[s]=r}return r?++n:_.splice(0,1),$(e,_,n)},R.negated=function(){var e=new V(this);return e.s=-e.s||null,e},R.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new V(e,t)).s,!o||!t)return new V(NaN);if(o!=t)return e.s=-t,n.minus(e);var s=n.e/l,i=e.e/l,a=n.c,u=e.c;if(!s||!i){if(!a||!u)return new V(o/0);if(!a[0]||!u[0])return u[0]?e:new V(a[0]?n:0*o)}if(s=p(s),i=p(i),a=a.slice(),o=s-i){for(o>0?(i=s,r=u):(o=-o,r=a),r.reverse();o--;r.push(0));r.reverse()}for((o=a.length)-(t=u.length)<0&&(r=u,u=a,a=r,t=o),o=0;t;)o=(a[--t]=a[t]+u[t]+o)/c|0,a[t]=c===a[t]?0:a[t]%c;return o&&(a=[o].concat(a),++i),$(e,a,i)},R.precision=R.sd=function(e,t){var r,n,o,s=this;if(null!=e&&e!==!!e)return E(e,1,h),null==t?t=k:E(t,0,8),K(new V(s),e,t);if(!(r=s.c))return null;if(n=(o=r.length-1)*l+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},R.shiftedBy=function(e){return E(e,-9007199254740991,u),this.times("1e"+e)},R.squareRoot=R.sqrt=function(){var e,t,n,o,s,i=this,a=i.c,c=i.s,l=i.e,u=x+4,d=new V("0.5");if(1!==c||!a||!a[0])return new V(!c||c<0&&(!a||a[0])?NaN:a?i:1/0);if(0==(c=Math.sqrt(+Y(i)))||c==1/0?(((t=g(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=p((l+1)/2)-(l<0||l%2),n=new V(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new V(c+""),n.c[0])for((c=(l=n.e)+u)<3&&(c=0);;)if(s=n,n=d.times(s.plus(r(i,s,u,1))),g(s.c).slice(0,c)===(t=g(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(n,n.e+x+2,1),e=!n.times(n).eq(i));break}if(!o&&(K(s,s.e+x+2,0),s.times(s).eq(i))){n=s;break}u+=4,c+=4,o=1}return K(n,n.e+x+1,k,e)},R.toExponential=function(e,t){return null!=e&&(E(e,0,h),e++),W(this,e,t,1)},R.toFixed=function(e,t){return null!=e&&(E(e,0,h),e=e+this.e+1),W(this,e,t)},R.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=q;else if("object"!=typeof r)throw Error(i+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var s,a=n.split("."),c=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",d=a[0],f=a[1],h=o.s<0,p=h?d.slice(1):d,g=p.length;if(l&&(s=c,c=l,l=s,g-=s),c>0&&g>0){for(s=g%c||c,d=p.substr(0,s);s<g;s+=c)d+=u+p.substr(s,c);l>0&&(d+=u+p.slice(s)),h&&(d="-"+d)}n=f?d+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):d}return(r.prefix||"")+n+(r.suffix||"")},R.toFraction=function(e){var t,n,o,s,a,c,u,f,h,p,m,E,_=this,b=_.c;if(null!=e&&(!(u=new V(e)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(i+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!b)return new V(_);for(t=new V(I),h=n=new V(I),o=f=new V(I),E=g(b),a=t.e=E.length-_.e-1,t.c[0]=d[(c=a%l)<0?l+c:c],e=!e||u.comparedTo(t)>0?a>0?t:h:u,c=M,M=1/0,u=new V(E),f.c[0]=0;p=r(u,t,0,1),1!=(s=n.plus(p.times(o))).comparedTo(e);)n=o,o=s,h=f.plus(p.times(s=h)),f=s,t=u.minus(p.times(s=t)),u=s;return s=r(e.minus(n),o,0,1),f=f.plus(s.times(h)),n=n.plus(s.times(o)),f.s=h.s=_.s,m=r(h,o,a*=2,k).minus(_).abs().comparedTo(r(f,n,a,k).minus(_).abs())<1?[h,o]:[f,n],M=c,m},R.toNumber=function(){return+Y(this)},R.toPrecision=function(e,t){return null!=e&&E(e,1,h),W(this,e,t,2)},R.toString=function(e){var t,r=this,n=r.s,o=r.e;return null===o?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=o<=L||o>=D?b(g(r.c),o):y(g(r.c),o,"0"):10===e&&G?t=y(g((r=K(new V(r),x+o+1,k)).c),r.e,"0"):(E(e,2,H.length,"Base"),t=v(y(g(r.c),o,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,null!=t&&V.set(t),V}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(this)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>bignumber.js",file:"node_modules/@ledgerhq/hw-app-eth/node_modules/bignumber.js/bignumber.js"}],[884,{rxjs:5293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setEnvUnsafe=r.setEnv=r.changes=r.getEnvDesc=r.isEnvDefault=r.getEnvDefault=r.getEnv=r.getAllEnvs=r.getAllEnvNames=r.getDefinition=void 0;const n=e("rxjs"),o=e=>{if(!Number.isNaN(e))return parseInt(e,10)},s=e=>{if(!Number.isNaN(e))return parseFloat(e)},i=e=>"boolean"==typeof e?e:!("0"===e||"false"===e),a=e=>"string"==typeof e?e:undefined,c=e=>{const t="string"==typeof e?e.split(","):null;if(Array.isArray(t)&&t.length>0)return t},l={ADDRESS_POISONING_FAMILIES:{def:"evm,tron",parser:a,desc:"List of families impacted by the address poisoning attack"},ANALYTICS_CONSOLE:{def:!1,parser:i,desc:"Show tracking overlays on the app UI"},DEBUG_THEME:{def:!1,parser:i,desc:"Show theme debug overlay UI"},API_ICP_ENDPOINT:{def:"https://icp.coin.ledger.com/",parser:a,desc:"Rosetta API for ICP"},API_CASPER_INDEXER_ENDPOINT:{parser:a,def:"https://casper.coin.ledger.com/indexer",desc:"Casper API url indexer"},API_CASPER_NODE_ENDPOINT:{parser:a,def:"https://casper.coin.ledger.com/node/",desc:"Casper API url node"},API_ALGORAND_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://algorand.coin.ledger.com",parser:a,desc:"Node API endpoint for algorand"},API_CELO_INDEXER:{def:"https://celo.coin.ledger.com/indexer/",parser:a,desc:"Explorer API for celo"},API_CELO_NODE:{def:"https://celo.coin.ledger.com/archive/",parser:a,desc:"Node endpoint for celo"},COSMOS_GAS_AMPLIFIER:{def:1.3,parser:o,desc:"Cosmos gas estimate multiplier"},API_FILECOIN_ENDPOINT:{parser:a,def:"https://filecoin.coin.ledger.com",desc:"Filecoin API url"},API_STACKS_ENDPOINT:{parser:a,def:"https://stacks.coin.ledger.com",desc:"Stacks API url"},API_POLKADOT_INDEXER:{parser:a,def:"https://polkadot.coin.ledger.com",desc:"Explorer API for polkadot"},API_POLKADOT_SIDECAR:{parser:a,def:"https://polkadot-sidecar.coin.ledger.com",desc:"Polkadot Sidecar API url"},API_POLKADOT_SIDECAR_CREDENTIALS:{parser:a,def:"",desc:"Polkadot Sidecar API credentials"},API_POLKADOT_NODE:{parser:a,def:"https://polkadot-fullnodes.api.live.ledger.com",desc:"Polkadot Node"},ELROND_API_ENDPOINT:{parser:a,def:"https://elrond.coin.ledger.com",desc:"Elrond API url"},ELROND_DELEGATION_API_ENDPOINT:{parser:a,def:"https://delegations-elrond.coin.ledger.com",desc:"Elrond DELEGATION API url"},API_STELLAR_HORIZON:{parser:a,def:"https://stellar.coin.ledger.com",desc:"Stellar Horizon API url"},API_STELLAR_HORIZON_FETCH_LIMIT:{parser:o,def:100,desc:"Limit of operation that Horizon will fetch per page"},API_STELLAR_HORIZON_STATIC_FEE:{def:!1,parser:i,desc:"Static fee for Stellar account"},API_TEZOS_BAKER:{parser:a,def:"https://tezos-bakers.api.live.ledger.com",desc:"bakers API for tezos"},API_TEZOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://xtz-explorer.api.live.ledger.com/explorer",parser:a,desc:"Ledger explorer API for tezos"},API_TEZOS_TZKT_API:{def:"https://xtz-tzkt-explorer.api.live.ledger.com",parser:a,desc:"tzkt.io explorer"},API_TEZOS_NODE:{def:"https://xtz-node.api.live.ledger.com",parser:a,desc:"node API for tezos (for broadcast only)"},API_TRONGRID_PROXY:{parser:a,def:"https://tron.coin.ledger.com",desc:"proxy url for trongrid API"},API_SOLANA_PROXY:{parser:a,def:"https://solana.coin.ledger.com",desc:"proxy url for solana API"},SOLANA_VALIDATORS_APP_BASE_URL:{parser:a,def:"https://earn.api.live.ledger.com/v0/network/solana/validator-details",desc:"base url for validators.app validator list"},SOLANA_TESTNET_VALIDATORS_APP_BASE_URL:{parser:a,def:"https://validators-solana.coin.ledger.com/api/v1/validators",desc:"base url for testnet validators.app validator list"},SOLANA_TX_CONFIRMATION_TIMEOUT:{def:1e5,parser:o,desc:"solana transaction broadcast confirmation timeout"},API_HEDERA_MIRROR:{def:"https://hedera.coin.ledger.com",parser:a,desc:"mirror node API for Hedera"},API_VECHAIN_THOREST:{def:"https://vechain.coin.ledger.com",parser:a,desc:"Thorest API for VeChain"},BASE_SOCKET_URL:{def:"wss://scriptrunner.api.live.ledger.com/update",parser:a,desc:"Ledger script runner API"},BOT_TIMEOUT_SCAN_ACCOUNTS:{def:6e5,parser:o,desc:"bot's default timeout for scanAccounts"},BOT_SPEC_DEFAULT_TIMEOUT:{def:18e5,parser:o,desc:"define the default value of spec.skipMutationsTimeout (if not overriden by spec)"},BUY_API_BASE:{def:"https://buy.api.live.ledger.com/buy/v1",parser:a,desc:"Buy crypto API base url - version 1"},CARDANO_API_ENDPOINT:{def:"https://cardano.coin.ledger.com/api",parser:a,desc:"Cardano API url"},CARDANO_TESTNET_API_ENDPOINT:{def:"https://testnet-ledger.cardanoscan.io/api",parser:a,desc:"Cardano API url"},ICON_NODE_ENDPOINT:{parser:a,def:"https://icon.coin.ledger.com/api/v3",desc:"ICON RPC url"},ICON_DEBUG_ENDPOINT:{parser:a,def:"https://icon.coin.ledger.com/api/v3d",desc:"ICON debug RPC url"},ICON_INDEXER_ENDPOINT:{parser:a,def:"https://icon.coin.ledger.com/api/v1",desc:"ICON API url"},ICON_TESTNET_NODE_ENDPOINT:{parser:a,def:"https://berlin.net.solidwallet.io/api/v3",desc:"ICON Berlin Testnet API url"},ICON_TESTNET_DEBUG_ENDPOINT:{parser:a,def:"https://berlin.net.solidwallet.io/api/v3d",desc:"ICON Berlin Testnet debug"},ICON_TESTNET_INDEXER_ENDPOINT:{parser:a,def:"https://tracker.berlin.icon.community/api/v1",desc:"ICON Berlin Testnet API url"},COINAPPS:{def:"",parser:a,desc:"(dev feature) defines the folder for speculos mode that contains Nano apps binaries (.elf) in a specific structure: <device>/<firmware>/<appName>/app_<appVersion>.elf"},CRYPTO_ORG_INDEXER:{def:"https://cryptoorg-rpc-indexer.coin.ledger.com",parser:a,desc:"location of the Cronos POS Chain (formerly Crypto.org) indexer API"},CRYPTO_ORG_TESTNET_INDEXER:{def:"https://cronos-pos.org/explorer/croeseid4",parser:a,desc:"location of the Cronos POS Chain (formerly Crypto.org) indexer testnet API"},CRYPTO_ORG_RPC_URL:{def:"https://cryptoorg-rpc-node.coin.ledger.com",parser:a,desc:"location of the Cronos POS Chain (formerly Crypto.org) chain node"},CRYPTO_ORG_TESTNET_RPC_URL:{def:"https://rpc-testnet-croeseid-4.crypto.org",parser:a,desc:"location of the Cronos POS Chain (formerly Crypto.org) chain testnet node"},DEBUG_UTXO_DISPLAY:{def:4,parser:o,desc:"define maximum number of utxos to display in CLI"},DEBUG_HTTP_RESPONSE:{def:!1,parser:i,desc:"includes HTTP response body in logs"},DEVICE_CANCEL_APDU_FLUSH_MECHANISM:{def:!0,parser:i,desc:"enable a mechanism that send a 0x00 apdu to force device to awake from its 'Processing' UI state"},DEVICE_PROXY_URL:{def:"",parser:a,desc:"enable a proxy to use instead of a physical device"},DEVICE_PROXY_MODEL:{def:"nanoS",parser:a,desc:"allow to override the default model of a proxied device"},DISABLE_TRANSACTION_BROADCAST:{def:!1,parser:i,desc:"disable broadcast of transactions"},DISABLE_SYNC_TOKEN:{def:!0,parser:i,desc:"disable a problematic mechanism of our API"},DISABLE_FW_UPDATE_VERSION_CHECK:{def:!1,parser:i,desc:"disable the version check for firmware update eligibility"},EIP1559_MINIMUM_FEES_GATE:{def:!0,parser:i,desc:"prevents the user from doing an EIP1559 transaction with fees too low"},EIP1559_PRIORITY_FEE_LOWER_GATE:{def:.85,parser:s,desc:"minimum priority fee percents allowed compared to network conditions allowed when EIP1559_MINIMUM_FEES_GATE is activated"},EIP1559_BASE_FEE_MULTIPLIER:{def:1.27,parser:s,desc:"mutiplier for the base fee that is composing the maxFeePerGas property"},EXPERIMENTAL_BLE:{def:!1,parser:i,desc:"enable experimental support of Bluetooth"},EXPERIMENTAL_CURRENCIES:{def:"",parser:a,desc:"enable experimental support of currencies (comma separated)"},EXPERIMENTAL_EXPLORERS:{def:!1,parser:i,desc:"enable experimental explorer APIs"},EXPERIMENTAL_LANGUAGES:{def:!1,parser:i,desc:"enable experimental languages"},EXPERIMENTAL_MANAGER:{def:!1,parser:i,desc:"enable an experimental version of Manager"},EXPERIMENTAL_ROI_CALCULATION:{def:!1,parser:i,desc:"enable an experimental version of the portfolio percentage calculation"},EXPERIMENTAL_SEND_MAX:{def:!1,parser:i,desc:"force enabling SEND MAX even if not yet stable"},EXPERIMENTAL_USB:{def:!1,parser:i,desc:"enable an experimental implementation of USB support"},EXPERIMENTAL_SWAP:{def:!1,parser:i,desc:"enable an experimental swap interface"},EXPLORER:{def:"https://explorers.api.live.ledger.com",parser:a,desc:"Ledger generic explorer API"},EXPLORER_STAGING:{def:"https://explorers.api-01.live.ledger-stg.com",parser:a,desc:"Ledger staging explorer API"},EXPLORER_BETA:{def:"https://explorers.api.live.ledger.com",parser:a,desc:"Ledger generic explorer beta API"},EXPLORER_SATSTACK:{def:"http://localhost:20000",parser:a,desc:"Ledger satstack Bitcoin explorer API"},EXPORT_EXCLUDED_LOG_TYPES:{def:"ble-frame",parser:a,desc:"comma-separated list of excluded log types for exported logs"},EXPORT_MAX_LOGS:{def:5e3,parser:o,desc:"maximum logs to keep for export"},DISABLE_APP_VERSION_REQUIREMENTS:{def:!1,parser:i,desc:"force an old application version to be accepted regardless of its version"},FORCE_PROVIDER:{def:1,parser:o,desc:"use a different provider for app store (for developers only)"},FILTER_ZERO_AMOUNT_ERC20_EVENTS:{def:!0,parser:i,desc:"Remove filter of address poisoning"},GET_CALLS_RETRY:{def:2,parser:o,desc:"how many times to retry a GET http call"},GET_CALLS_TIMEOUT:{def:6e4,parser:o,desc:"how much time to timeout a GET http call"},HIDE_EMPTY_TOKEN_ACCOUNTS:{def:!1,parser:i,desc:"hide the sub accounts when they are empty"},KEYCHAIN_OBSERVABLE_RANGE:{def:0,parser:o,desc:"overrides the gap limit specified by BIP44 (default to 20)"},LEDGER_CLIENT_VERSION:{def:"",parser:a,desc:"the 'X-Ledger-Client-Version' HTTP header to use for queries to Ledger APIs"},LEDGER_COUNTERVALUES_API:{def:"https://countervalues.live.ledger.com",parser:a,desc:"Ledger countervalues API"},LEDGER_REST_API_BASE:{def:"https://explorers.api.live.ledger.com",parser:a,desc:"DEPRECATED"},LEGACY_KT_SUPPORT_TO_YOUR_OWN_RISK:{def:!1,parser:i,desc:"enable sending to KT accounts. Not tested."},MANAGER_API_BASE:{def:"https://manager.api.live.ledger.com/api",parser:a,desc:"Ledger Manager API"},MANAGER_DEV_MODE:{def:!1,parser:i,desc:"enable visibility of utility apps in Manager"},MANAGER_INSTALL_DELAY:{def:1e3,parser:o,desc:"defines the time to wait before installing apps to prevent known glitch (<=1.5.5) when chaining installs"},MAPPING_SERVICE:{def:"https://mapping-service.api.ledger.com",parser:a,desc:""},MAX_ACCOUNT_NAME_SIZE:{def:50,parser:o,desc:"maximum size of account names"},MOCK:{def:"",parser:a,desc:"switch the app into a MOCK mode for test purpose, the value will be used as a seed for the rng. Avoid falsy values."},MOCK_COUNTERVALUES:{def:"",parser:a,desc:"switch the countervalues resolution into a MOCK mode for test purpose"},MOCK_APP_UPDATE:{def:!1,parser:i,desc:"Always shows app update in the manager"},MOCK_EXCHANGE_TEST_CONFIG:{def:!1,parser:i,desc:"mock the cryptoassets config and test partner (in the context of app-exchange)"},MOCK_REMOTE_LIVE_MANIFEST:{def:"",parser:a,desc:"mock remote live app manifest"},MOCK_OS_VERSION:{def:"",parser:a,desc:"if defined, overrides the os and version. format: os@version. Example: Windows_NT@6.1.7601"},MOCK_NO_BYPASS:{def:!1,parser:i,desc:"if defined, avoids bypass of the currentDevice in the store."},NFT_CURRENCIES:{def:["avalanche_c_chain","bsc","ethereum","polygon"],parser:c,desc:"set the currencies where NFT is active"},NFT_ETH_METADATA_SERVICE:{def:"https://nft.api.live.ledger.com",parser:a,desc:"service uri used to get the metadata of an nft"},OPERATION_ADDRESSES_LIMIT:{def:100,parser:o,desc:"limit the number of addresses in from/to of operations"},OPERATION_OPTIMISTIC_RETENTION:{def:18e5,parser:o,desc:"timeout to keep an optimistic operation that was broadcasted but not yet visible from the coin implementation or the API"},OPERATION_PAGE_SIZE_INITIAL:{def:100,parser:o,desc:"defines the initial default operation length page to use"},POLKADOT_ELECTION_STATUS_THRESHOLD:{def:25,parser:o,desc:"in blocks - number of blocks before Polkadot election effectively opens to consider it as open and disable all staking features"},SATSTACK:{def:!1,parser:i,desc:"Switch to satstack mode"},SCAN_FOR_INVALID_PATHS:{def:!1,parser:i,desc:"enable searching accounts in exotic derivation paths"},SEED:{def:"",parser:a,desc:"(dev feature) seed to be used by speculos (device simulator)"},SHOW_LEGACY_NEW_ACCOUNT:{def:!1,parser:i,desc:"allow the creation of legacy accounts"},SIMPLE_HASH_API_BASE:{def:"https://simplehash.api.live.ledger.com/api/v0",parser:a,desc:"SimpleHash API base url"},SKIP_ONBOARDING:{def:!1,parser:i,desc:"dev flag to skip onboarding flow"},SPECULOS_API_PORT:{def:0,parser:o,desc:"API port for speculos"},SPECULOS_PID_OFFSET:{def:0,parser:o,desc:"offset to be added to the speculos pid and avoid collision with other instances"},SPECULOS_USE_WEBSOCKET:{def:!1,parser:i,desc:"Use speculos websocket interface instead of Rest API"},SWAP_API_BASE:{def:"https://swap.ledger.com/v5",parser:a,desc:"Swap API base"},SWAP_USER_IP:{def:"",parser:a,desc:"Swap IP"},SWAP_DISABLE_APPS_INSTALL:{def:!1,parser:i,desc:"bypass app checks on Nano for speculos swap tests"},SYNC_ALL_INTERVAL:{def:48e4,parser:o,desc:"delay between successive sync"},SYNC_BOOT_DELAY:{def:2e3,parser:o,desc:"delay before the sync starts"},SYNC_PENDING_INTERVAL:{def:1e4,parser:o,desc:"delay between sync when an operation is still pending"},SYNC_OUTDATED_CONSIDERED_DELAY:{def:6e5,parser:o,desc:"delay until Live consider a sync outdated"},SYNC_MAX_CONCURRENT:{def:4,parser:o,desc:"maximum limit to synchronize accounts concurrently to limit overload"},BOT_MAX_CONCURRENT:{def:10,parser:o,desc:"maximum limit to run bot spec in parallel"},USER_ID:{def:"",parser:a,desc:"unique identifier of app instance. used to derivate dissociated ids for difference purposes (e.g. the firmware update incremental deployment)."},WALLETCONNECT:{def:!1,parser:i,desc:"is walletconnect enabled"},CLOUD_SYNC_API_STAGING:{def:"https://cloud-sync-backend.api.aws.stg.ldg-tech.com",parser:a,desc:"wallet sync api staging base url"},CLOUD_SYNC_API_PROD:{def:"https://cloud-sync.api.live.ledger.com",parser:a,desc:"wallet sync api production base url"},WITH_DEVICE_POLLING_DELAY:{def:500,parser:s,desc:"delay when polling device"},ANNOUNCEMENTS_API_URL:{def:"https://cdn.live.ledger.com/announcements",parser:a,desc:"url used to fetch new announcements"},ANNOUNCEMENTS_API_VERSION:{def:1,parser:o,desc:"version used for the announcements api"},STATUS_API_URL:{def:"https://ledger.statuspage.io/api",parser:a,desc:"url used to fetch ledger status"},STATUS_API_VERSION:{def:2,parser:o,desc:"version used for ledger status api"},TEZOS_MAX_TX_QUERIES:{def:100,parser:o,desc:"safe max on maximum number of queries to synchronize a tezos account"},TRUSTCHAIN_API_STAGING:{def:"https://trustchain-backend.api.aws.stg.ldg-tech.com",parser:a,desc:"Trustchain API Staging"},TRUSTCHAIN_API_PROD:{def:"https://trustchain.api.live.ledger.com",parser:a,desc:"Trustchain API Prod"},PLATFORM_DEBUG:{def:!1,parser:i,desc:"enable visibility of debug apps and tools in Platform Catalog"},PLATFORM_EXPERIMENTAL_APPS:{def:!1,parser:i,desc:"enable visibility of experimental apps and tools in Platform Catalog"},PLATFORM_MANIFEST_API_URL:{def:"https://live-app-catalog.ledger.com/api/v1/apps",parser:a,desc:"url used to fetch platform app manifests"},PLATFORM_LOCAL_MANIFEST_JSON:{def:"",parser:a,desc:'json manifest for a local (test) platform app manifests. How to use: PLATFORM_LOCAL_MANIFEST_JSON="$(cat /path/to/file.json)"'},PLATFORM_GLOBAL_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/catalog/v1/data.json",parser:a,desc:"url used to fetch platform app manifests"},PLATFORM_GLOBAL_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/catalog/v1/data.json",parser:a,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_RAMP_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/trade/v1/data.json",parser:a,desc:"url used to fetch platform app manifests"},PLATFORM_RAMP_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/trade/v1/data.json",parser:a,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_API_URL:{def:"",parser:a,desc:"url used to fetch platform catalog"},PLATFORM_API_VERSION:{def:1,parser:o,desc:"version used for the platform api"},PLAYWRIGHT_RUN:{def:!1,parser:i,desc:"true when launched for E2E testing"},MARKET_API_URL:{def:"https://proxycg.api.live.ledger.com/api/v3",parser:a,desc:"Market data api"},USE_LEARN_STAGING_URL:{def:!1,parser:i,desc:"use the staging URL for the learn page"},DYNAMIC_CAL_BASE_URL:{def:"https://cdn.live.ledger.com/cryptoassets",parser:a,desc:"bucket S3 of the dynamic cryptoassets list"},CAL_SERVICE_URL:{def:"https://crypto-assets-service.api.ledger.com",parser:a,desc:"Cryptoassets list service url"},FEATURE_FLAGS:{def:"{}",parser:e=>{try{if("string"!=typeof e)throw new Error;return JSON.parse(e)}catch(e){return undefined}},desc:"key value map for feature flags: {[key in FeatureId]?: Feature]}"},PERFORMANCE_CONSOLE:{def:!1,parser:i,desc:"Show a performance overlay on the app UI"},ETHEREUM_STUCK_TRANSACTION_TIMEOUT:{def:3e5,parser:o,desc:"Time after which an optimisc operation is considered stuck"},EVM_REPLACE_TX_LEGACY_GASPRICE_FACTOR:{def:1.3,parser:s,desc:"Replace transaction gasprice factor for legacy evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_REPLACE_TX_EIP1559_MAXFEE_FACTOR:{def:1.3,parser:s,desc:"Replace transaction max fee factor for EIP1559 evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_REPLACE_TX_EIP1559_MAXPRIORITYFEE_FACTOR:{def:1.1,parser:s,desc:"Replace transaction max priority fee factor for EIP1559 evm transaction. This value should be 1.1 minimum since this is the minimum increase required by most nodes"},EVM_FORCE_LEGACY_TRANSACTIONS:{def:!1,parser:i,desc:"Force transaction type 0 on EVM networks"},ENABLE_NETWORK_LOGS:{def:!1,parser:i,desc:"Enable network request and responses logs. Errors are always logged"},CRYPTO_ASSET_SEARCH_KEYS:{def:["ticker","name","keywords"],parser:c,desc:"Fuse search attributes to find a currency according to user input"},VERBOSE:{def:[],parser:c,desc:'Sets up debug console printing of logs. `VERBOSE=1` or `VERBOSE=true`: to print all logs | `VERBOSE="apdu,hw,transport,hid-verbose"` : filtering on a list of log `type` separated by a `,`'},DEFAULT_TRANSACTION_POLLING_INTERVAL:{def:3e4,parser:o,desc:"Default interval to poll for transaction confirmation in speedup/cancel evm flow (in ms)"},LOW_BATTERY_PERCENTAGE:{def:20,parser:o,desc:"Configure the low battery percentage threshold"},LOG_DRAWERS:{def:!1,parser:i,desc:"Enable logs for drawers"}};r.getDefinition=e=>e in l?l[e]:undefined;const u=Object.keys(l).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:l[t].def})),{}),d=Object.assign({},u);r.getAllEnvNames=()=>Object.keys(l);r.getAllEnvs=()=>Object.assign({},d);r.getEnv=e=>d[e];r.getEnvDefault=e=>u[e];r.isEnvDefault=e=>d[e]===u[e];r.getEnvDesc=e=>l[e].desc,r.changes=new n.Subject;r.setEnv=(e,t)=>{const n=d[e];n!==t&&(d[e]=t,r.changes.next({name:e,value:t,oldValue:n}))};r.setEnvUnsafe=(e,t)=>{const n=(0,r.getDefinition)(e);if(!n)return!1;const{parser:o}=n,s=o(t);return s===undefined||null===s?(console.warn(`Invalid ENV value for ${e}`),!1):((0,r.setEnv)(e,s),!0)}}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>@ledgerhq/live-env",file:"node_modules/@ledgerhq/live-env/lib/env.js"}],[885,{"./env":884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),o(e("./env"),r)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/evm-tools>@ledgerhq/live-env",file:"node_modules/@ledgerhq/live-env/lib/index.js"}],[886,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.listen=r.LocalTracer=r.trace=r.log=void 0;let n=0;const o=[];r.log=(e,t,r)=>{const o={type:e,id:String(++n),date:new Date};t&&(o.message=t),r&&(o.data=r),i(o)};r.trace=({type:e,message:t,data:r,context:o})=>{const s={type:e,id:String(++n),date:new Date};t&&(s.message=t),r&&(s.data=r),o&&(s.context=o),i(s)};class s{constructor(e,t){this.type=e,this.context=t}trace(e,t){(0,r.trace)({type:this.type,message:e,data:t,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context=Object.assign(Object.assign({},this.context),e)}getType(){return this.type}setType(e){this.type=e}withType(e){return new s(e,this.context)}withContext(e){return new s(this.type,e)}withUpdatedContext(e){return new s(this.type,Object.assign(Object.assign({},this.context),e))}}r.LocalTracer=s;function i(e){for(let t=0;t<o.length;t++)try{o[t](e)}catch(e){console.error(e)}}r.listen=e=>(o.push(e),()=>{const t=o.indexOf(e);-1!==t&&(o[t]=o[o.length-1],o.pop())}),"undefined"!=typeof window&&(window.__ledgerLogsListen=r.listen)}}},{package:"@metamask/eth-ledger-bridge-keyring>@ledgerhq/hw-app-eth>@ledgerhq/logs",file:"node_modules/@ledgerhq/logs/lib/index.js"}],[89,{"../../../shared/constants/notifications":5749,"../platforms/extension":297,"@metamask/safe-event-emitter":2591},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.NOTIFICATION_MANAGER_EVENTS=void 0;var n=i(e("@metamask/safe-event-emitter")),o=i(e("../platforms/extension")),s=e("../../../shared/constants/notifications");function i(e){return e&&e.__esModule?e:{default:e}}const a=r.NOTIFICATION_MANAGER_EVENTS={POPUP_CLOSED:"onPopupClosed"};class c extends n.default{constructor(){super(),this.platform=new o.default,this.platform.addOnRemovedListener(this._onWindowClosed.bind(this))}markAsAutomaticallyClosed(){this._popupAutomaticallyClosed=!0}async showPopup(e,t){this._popupId=t,this._setCurrentPopupId=e;const r=await this._getPopup(t);if(r)await this.platform.focusWindow(r.id);else{let e=0,t=0;try{const r=await this.platform.getLastFocusedWindow();t=r.top,e=Math.max(r.left+(r.width-s.NOTIFICATION_WIDTH),0)}catch(r){const{screenX:n,screenY:o,outerWidth:i}=window;t=Math.max(o,0),e=Math.max(n+(i-s.NOTIFICATION_WIDTH),0)}const r=await this.platform.openWindow({url:"notification.html",type:"popup",width:s.NOTIFICATION_WIDTH,height:s.NOTIFICATION_HEIGHT,left:e,top:t});r.left!==e&&"fullscreen"!==r.state&&await this.platform.updateWindowPosition(r.id,e,t),this._setCurrentPopupId(r.id),this._popupId=r.id}}_onWindowClosed(e){e===this._popupId&&(this._setCurrentPopupId(undefined),this._popupId=undefined,this.emit(a.POPUP_CLOSED,{automaticallyClosed:this._popupAutomaticallyClosed}),this._popupAutomaticallyClosed=undefined)}async _getPopup(){const e=await this.platform.getAllWindows();return this._getPopupIn(e)}_getPopupIn(e){return e?e.find((e=>e&&"popup"===e.type&&e.id===this._popupId)):null}}r.default=c}}},{package:"$root$",file:"app/scripts/lib/notification-manager.js"}],[9,{"@metamask/base-controller":1397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AccountOrderController=void 0;var n=e("@metamask/base-controller");const o={pinnedAccountList:[],hiddenAccountList:[]},s={pinnedAccountList:{persist:!0,anonymous:!0},hiddenAccountList:{persist:!0,anonymous:!0}};class i extends n.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:s,name:"AccountOrderController",state:{...o,...t}})}updateAccountsList(e){this.update((t=>(t.pinnedAccountList=e,t)))}updateHiddenAccountsList(e){this.update((t=>(t.hiddenAccountList=e,t)))}}r.AccountOrderController=i}}},{package:"$root$",file:"app/scripts/controllers/account-order.ts"}],[90,{"../../../../shared/constants/offscreen-communication":5750,"eth-lattice-keyring":4235},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LatticeKeyringOffscreen=void 0;var n,o=(n=e("eth-lattice-keyring"))&&n.__esModule?n:{default:n},s=e("../../../../shared/constants/offscreen-communication");class i extends o.default{constructor(e={}){super(e)}async _getCreds(){try{const e=this.appName?this.appName:"Unknown",t=`${s.KnownOrigins.lattice}?keyring=${e}&forceLogin=true`;return await new Promise(((e,r)=>{chrome.runtime.sendMessage({target:s.OffscreenCommunicationTarget.latticeOffscreen,params:{url:t}},(t=>{t.error&&r(t.error),e(t.result)}))}))}catch(e){throw new Error(e)}}}r.LatticeKeyringOffscreen=i,function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(i,"type",void 0),i.type=o.default.type}}},{package:"$root$",file:"app/scripts/lib/offscreen-bridge/lattice-offscreen-keyring.ts"}],[91,{"../../../../shared/constants/offscreen-communication":5750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LedgerOffscreenBridge=void 0;var n=e("../../../../shared/constants/offscreen-communication");function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.LedgerOffscreenBridge=class{constructor(){o(this,"isDeviceConnected",!1)}init(){return chrome.runtime.onMessage.addListener((e=>{e.target===n.OffscreenCommunicationTarget.extension&&e.event===n.OffscreenCommunicationEvents.ledgerDeviceConnect&&(this.isDeviceConnected=!0)})),Promise.resolve()}destroy(){return Promise.resolve()}getOptions(){return Promise.resolve({})}setOptions(){return Promise.resolve()}attemptMakeApp(){return new Promise(((e,t)=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.ledgerOffscreen,action:n.LedgerAction.makeApp},(r=>{r.success?e(!0):r.error?t(r.error):t(new Error("Unknown error occurred"))}))}))}updateTransportMethod(e){return new Promise(((t,r)=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.ledgerOffscreen,action:n.LedgerAction.updateTransport,params:{transportType:e}},(e=>{e.success?t(!0):r(new Error("Ledger transport could not be updated"))}))}))}getPublicKey(e){return new Promise(((t,r)=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.ledgerOffscreen,action:n.LedgerAction.getPublicKey,params:e},(e=>{e.success?t(e.payload):r(e.payload.error)}))}))}deviceSignTransaction(e){return new Promise(((t,r)=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.ledgerOffscreen,action:n.LedgerAction.signTransaction,params:e},(e=>{e.success?t(e.payload):r(e.payload.error)}))}))}deviceSignMessage(e){return new Promise(((t,r)=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.ledgerOffscreen,action:n.LedgerAction.signPersonalMessage,params:e},(e=>{e.success?t(e.payload):r(e.payload.error)}))}))}deviceSignTypedData(e){return new Promise(((t,r)=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.ledgerOffscreen,action:n.LedgerAction.signTypedData,params:e},(e=>{e.success?t(e.payload):r(e.payload.error)}))}))}}}}},{package:"$root$",file:"app/scripts/lib/offscreen-bridge/ledger-offscreen-bridge.ts"}],[92,{"../../../../shared/constants/offscreen-communication":5750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TrezorOffscreenBridge=void 0;var n=e("../../../../shared/constants/offscreen-communication");function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.TrezorOffscreenBridge=class{constructor(){o(this,"model",void 0),o(this,"minorVersion",void 0)}init(e){return chrome.runtime.onMessage.addListener((e=>{e.target===n.OffscreenCommunicationTarget.extension&&e.event===n.OffscreenCommunicationEvents.trezorDeviceConnect&&(this.model=e.payload.model,this.minorVersion=e.payload.minorVersion)})),new Promise((t=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.trezorOffscreen,action:n.TrezorAction.init,params:e},(()=>{t()}))}))}dispose(){return new Promise((e=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.trezorOffscreen,action:n.TrezorAction.dispose},(()=>{e()}))}))}getPublicKey(e){return new Promise((t=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.trezorOffscreen,action:n.TrezorAction.getPublicKey,params:e},(e=>{t(e)}))}))}ethereumSignTransaction(e){return new Promise((t=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.trezorOffscreen,action:n.TrezorAction.signTransaction,params:e},(e=>{t(e)}))}))}ethereumSignMessage(e){return new Promise((t=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.trezorOffscreen,action:n.TrezorAction.signMessage,params:e},(e=>{t(e)}))}))}ethereumSignTypedData(e){return new Promise((t=>{chrome.runtime.sendMessage({target:n.OffscreenCommunicationTarget.trezorOffscreen,action:n.TrezorAction.signTypedData,params:e},(e=>{t(e)}))}))}}}}},{package:"$root$",file:"app/scripts/lib/offscreen-bridge/trezor-offscreen-bridge.ts"}],[93,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0}),r.IndexedDBPPOMStorage=void 0;const s=async(e,t,r)=>{const n=await crypto.subtle.digest("SHA-256",t);if(Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")!==r)throw new Error(`Checksum mismatch for key ${e}`)};var i=new WeakSet;function a(e){return new Promise(((t,r)=>{const n=indexedDB.open(this.storeName,this.dbVersion);n.onerror=e=>{var t;r(new Error(`Failed to open database ${this.storeName}: ${null===(t=e.target)||void 0===t?void 0:t.error}`))},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this.storeName)||t.createObjectStore(this.storeName,{keyPath:["name","chainId"]})},n.onsuccess=r=>{const n=r.target.result.transaction([this.storeName],e).objectStore(this.storeName);t(n)}}))}r.IndexedDBPPOMStorage=class{constructor(e,t){n(this,i),o(this,"storeName",void 0),o(this,"dbVersion",void 0),this.storeName=e,this.dbVersion=t}async objectStoreAction(e,t,r="readonly"){return new Promise(((n,o)=>{(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")})(i,this,a).call(this,r).then((r=>{const s=r[e](t);s.onsuccess=async e=>{n(e)},s.onerror=t=>{var r;o(new Error(`Error in indexDB operation ${e}: ${null===(r=t.target)||void 0===r?void 0:r.error}`))}})).catch((e=>{o(e)}))}))}async read(e,t){var r;const n=null===(r=(await this.objectStoreAction("get",[e.name,e.chainId])).target)||void 0===r||null===(r=r.result)||void 0===r?void 0:r.data;return await s(e,n,t),n}async write(e,t,r){await s(e,t,r),await this.objectStoreAction("put",{...e,data:t},"readwrite")}async delete(e){await this.objectStoreAction("delete",[e.name,e.chainId],"readwrite")}async dir(){var e;return null===(e=(await this.objectStoreAction("getAllKeys")).target)||void 0===e?void 0:e.result.map((([e,t])=>({name:e,chainId:t})))}}}}},{package:"$root$",file:"app/scripts/lib/ppom/indexed-db-backend.ts"}],[94,{"../../../../shared/constants/app":5732,"../../../../shared/constants/security-provider":5754,"../../../../shared/constants/transaction":5762,"../../../../shared/lib/trace":5775,"../../../../shared/modules/selectors/networks":5807,"./ppom-util":95,"@metamask/controller-utils":1423},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPPOMMiddleware=function(e,t,r,d,f,h){return async(p,g,m)=>{try{const{securityAlertsEnabled:g}=t.state,{chainId:m}=(0,a.getProviderConfig)({metamask:r.state})??{};if(!m)return;if(!g||!u.includes(p.method))return;const E=p.params[0];if("string"==typeof E){const{isSIWEMessage:e}=(0,n.detectSIWE)({data:E});if(e)return}else if(p.method===o.MESSAGE_TYPE.ETH_SEND_TRANSACTION){const{to:e}=E??{},t=f.listAccounts();if(t.some((({address:t})=>(null==t?void 0:t.toLowerCase())===(null==e?void 0:e.toLowerCase()))))return}const _=(0,l.generateSecurityAlertId)();(0,c.trace)({name:c.TraceName.PPOMValidation,parentContext:p.traceContext},(()=>(0,l.validateRequestWithPPOM)({ppomController:e,request:p,securityAlertId:_,chainId:m,updateSecurityAlertResponse:h})));const b={...i.SECURITY_ALERT_RESPONSE_CHECKING_CHAIN,securityAlertId:_};s.SIGNING_METHODS.includes(p.method)&&d.addSignatureSecurityAlertResponse(b),p.securityAlertResponse=b}catch(e){p.securityAlertResponse=(0,l.handlePPOMError)(e,"Error createPPOMMiddleware: ")}finally{m()}}};var n=e("@metamask/controller-utils"),o=e("../../../../shared/constants/app"),s=e("../../../../shared/constants/transaction"),i=e("../../../../shared/constants/security-provider"),a=e("../../../../shared/modules/selectors/networks"),c=e("../../../../shared/lib/trace"),l=e("./ppom-util");const u=Object.freeze(["eth_sendRawTransaction","eth_sendTransaction",...s.SIGNING_METHODS])}}},{package:"$root$",file:"app/scripts/lib/ppom/ppom-middleware.ts"}],[95,{"../../../../shared/constants/security-provider":5754,"../../../../shared/constants/transaction":5762,"./security-alerts-api":97,"@metamask/transaction-controller":3162,uuid:5660},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.METHOD_SIGN_TYPED_DATA_V4=r.METHOD_SIGN_TYPED_DATA_V3=void 0,r.generateSecurityAlertId=function(){return(0,o.v4)()},r.handlePPOMError=h,r.isChainSupported=p,r.updateSecurityAlertResponse=async function({appStateController:e,method:t,securityAlertId:r,securityAlertResponse:n,signatureController:o,transactionController:s}){const a=i.SIGNING_METHODS.includes(t),c=await async function(e,t,r,n){const o=i.SIGNING_METHODS.includes(t);for(;;){let t;if(t=o?Object.values(r.messages).find((t=>{var r;return(null===(r=t.securityAlertResponse)||void 0===r?void 0:r.securityAlertId)===e})):n.state.transactions.find((t=>{var r;return(null===(r=t.securityAlertResponse)||void 0===r?void 0:r.securityAlertId)===e})),t)return t;await new Promise((e=>setTimeout(e,100)))}}(r,t,o,s);a?e.addSignatureSecurityAlertResponse({...n,securityAlertId:r}):s.updateSecurityAlertResponse(c.id,{...n,securityAlertId:r})},r.validateRequestWithPPOM=async function({ppomController:e,request:t,securityAlertId:r,chainId:o,updateSecurityAlertResponse:i}){try{if(!await p(o))return void await i(t.method,r,s.SECURITY_ALERT_RESPONSE_CHAIN_NOT_SUPPORTED);await i(t.method,r,s.LOADING_SECURITY_ALERT_RESPONSE);const c=function(e){if(t=e,t.method!==l)return function(e){if((e.method===d||e.method===u)&&Array.isArray(e.params))return{...e,params:e.params.slice(0,2)};return e}(e);var t;const r=e.params[0],o=(0,n.normalizeTransactionParams)(r);return{...e,params:[o]}}(t),f=(0,a.isSecurityAlertsAPIEnabled)()?await async function(e,t,r){try{return{...await(0,a.validateWithSecurityAlertsAPI)(t,r),source:s.SecurityAlertSource.API}}catch(n){return h(n,"Error validating request with security alerts API"),await g(e,r,t)}}(e,o,c):await g(e,c,o);await i(t.method,r,f)}catch(e){await i(t.method,r,h(e,"Error validating JSON RPC using PPOM: "))}};var n=e("@metamask/transaction-controller"),o=e("uuid"),s=e("../../../../shared/constants/security-provider"),i=e("../../../../shared/constants/transaction"),a=e("./security-alerts-api");const{sentry:c}=global,l="eth_sendTransaction",u=r.METHOD_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",d=r.METHOD_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",f={result_type:s.BlockaidResultType.Errored,reason:s.BlockaidReason.errored};function h(e,t,r=s.SecurityAlertSource.API){const n=function(e){if("object"==typeof e||"string"==typeof e)return e;return JSON.stringify(e)}(e),o=function(e){if(e instanceof Error)return`${e.name}: ${e.message}`;return JSON.stringify(e)}(e);return null==c||c.captureException(e),console.error(t,n),{...f,description:o,source:r}}async function p(e){let t=s.SECURITY_PROVIDER_SUPPORTED_CHAIN_IDS_FALLBACK_LIST;try{(0,a.isSecurityAlertsAPIEnabled)()&&(t=await(0,a.getSecurityAlertsAPISupportedChainIds)())}catch(e){h(e,"Error fetching supported chains from security alerts API")}return t.includes(e)}async function g(e,t,r){try{return{...await e.usePPOM((e=>e.validateJsonRpc(t)),r),source:s.SecurityAlertSource.Local}}catch(e){return h(e,"Error validating request with PPOM controller",s.SecurityAlertSource.Local)}}}}},{package:"$root$",file:"app/scripts/lib/ppom/ppom-util.ts"}],[96,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.PPOM=void 0,r.initSync=function(e){if(n!==undefined)return n;const t=S();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const r=new WebAssembly.Instance(e,t);return O(r,e)},r.main=function(){n.main()};const o="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&o.decode();let s=null;function i(){return null!==s&&0!==s.byteLength||(s=new Uint8Array(n.memory.buffer)),s}function a(e,t){return e>>>=0,o.decode(i().subarray(e,e+t))}const c=new Array(128).fill(undefined);c.push(undefined,null,!0,!1);let l=c.length;function u(e){l===c.length&&c.push(c.length+1);const t=l;return l=c[t],c[t]=e,t}function d(e){return c[e]}function f(e){const t=d(e);return function(e){e<132||(c[e]=l,l=e)}(e),t}let h=0;const p="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof p.encodeInto?function(e,t){return p.encodeInto(e,t)}:function(e,t){const r=p.encode(e);return t.set(r),{read:e.length,written:r.length}};function m(e,t,r){if(r===undefined){const r=p.encode(e),n=t(r.length,1)>>>0;return i().subarray(n,n+r.length).set(r),h=r.length,n}let n=e.length,o=t(n,1)>>>0;const s=i();let a=0;for(;a<n;a++){const t=e.charCodeAt(a);if(t>127)break;s[o+a]=t}if(a!==n){0!==a&&(e=e.slice(a)),o=r(o,n,n=a+3*e.length,1)>>>0;const t=i().subarray(o+a,o+n);a+=g(e,t).written}return h=a,o}let E=null;function _(){return null!==E&&0!==E.byteLength||(E=new Int32Array(n.memory.buffer)),E}function b(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let r="[";t>0&&(r+=b(e[0]));for(let n=1;n<t;n++)r+=", "+b(e[n]);return r+="]",r}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let n;if(!(r.length>1))return toString.call(e);if(n=r[1],"Object"==n)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:n}function y(e,t,r){n.wasm_bindgen__convert__closures__invoke1_mut(e,t,u(r))}function v(e,t){n._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__destroy(e,t)}let w=null;function T(e,t){const r=t(4*e.length,4)>>>0,o=(null!==w&&0!==w.byteLength||(w=new Uint32Array(n.memory.buffer)),w);for(let t=0;t<e.length;t++)o[r/4+t]=u(e[t]);return h=e.length,r}function A(e,t){try{return e.apply(this,t)}catch(e){n.__wbindgen_exn_store(u(e))}}class C{static __wrap(e){e>>>=0;const t=Object.create(C.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_ppom_free(e)}static new(e,t){const r=T(t,n.__wbindgen_malloc),o=h;return f(n.ppom_new(u(e),r,o))}validateJsonRpc(e){return f(n.ppom_validateJsonRpc(this.__wbg_ptr,u(e)))}static version(){return f(n.ppom_version())}}function S(){const e={wbg:{}};return e.wbg.__wbg_buffer_085ec1f694018c4f=function(e){return u(d(e).buffer)},e.wbg.__wbg_call_01734de55d61e11d=function(){return A((function(e,t,r){return u(d(e).call(d(t),d(r)))}),arguments)},e.wbg.__wbg_call_4c92f6aec1e1d6e6=function(){return A((function(e,t,r,n){return u(d(e).call(d(t),d(r),d(n)))}),arguments)},e.wbg.__wbg_from_d7c216d4616bb368=function(e){return u(Array.from(d(e)))},e.wbg.__wbg_get_44be0491f933a435=function(e,t){return u(d(e)[t>>>0])},e.wbg.__wbg_length_72e2208bbc0efc61=function(e){return d(e).length},e.wbg.__wbg_length_d813e535247d427e=function(e){return d(e).length},e.wbg.__wbg_length_fff51ee6522a1a18=function(e){return d(e).length},e.wbg.__wbg_new_43f1b47c28813cbd=function(e,t){try{var r={a:e,b:t};const o=new Promise(((e,t)=>{const o=r.a;r.a=0;try{return function(e,t,r,o){n.wasm_bindgen__convert__closures__invoke2_mut(e,t,u(r),u(o))}(o,r.b,e,t)}finally{r.a=o}}));return u(o)}finally{r.a=r.b=0}},e.wbg.__wbg_new_8125e318e6245eed=function(e){return u(new Uint8Array(d(e)))},e.wbg.__wbg_parse_670c19d4e984792e=function(){return A((function(e,t){return u(JSON.parse(a(e,t)))}),arguments)},e.wbg.__wbg_ppom_new=function(e){return u(C.__wrap(e))},e.wbg.__wbg_resolve_53698b95aaf7fcf8=function(e){return u(Promise.resolve(d(e)))},e.wbg.__wbg_set_5cf90238115182c3=function(e,t,r){d(e).set(d(t),r>>>0)},e.wbg.__wbg_stringify_e25465938f3f611f=function(){return A((function(e){return u(JSON.stringify(d(e)))}),arguments)},e.wbg.__wbg_then_b2267541e2a73865=function(e,t,r){return u(d(e).then(d(t),d(r)))},e.wbg.__wbg_then_f7e06ee3c11698eb=function(e,t){return u(d(e).then(d(t)))},e.wbg.__wbindgen_cb_drop=function(e){const t=f(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},e.wbg.__wbindgen_closure_wrapper_wasm_bindgen__closure__Closure_T___wrap__breaks_if_inlined=function(e,t,r){const n=function(e,t,r,n){const o={a:e,b:t,cnt:1},s=(...e)=>{o.cnt++;const t=o.a;o.a=0;try{return n(t,o.b,...e)}finally{0==--o.cnt?r(t,o.b):o.a=t}};return s.original=o,s}(e,t,v,y);return u(n)},e.wbg.__wbindgen_debug_string=function(e,t){const r=m(b(d(t)),n.__wbindgen_malloc,n.__wbindgen_realloc),o=h;_()[e/4+1]=o,_()[e/4+0]=r},e.wbg.__wbindgen_error_new=function(e,t){return u(new Error(a(e,t)))},e.wbg.__wbindgen_is_undefined=function(e){return d(e)===undefined},e.wbg.__wbindgen_memory=function(){return u(n.memory)},e.wbg.__wbindgen_object_drop_ref=function(e){f(e)},e.wbg.__wbindgen_string_get=function(e,t){const r=d(t),o="string"==typeof r?r:undefined;var s,i=(s=o)===undefined||null===s?0:m(o,n.__wbindgen_malloc,n.__wbindgen_realloc),a=h;_()[e/4+1]=a,_()[e/4+0]=i},e.wbg.__wbindgen_string_new=function(e,t){return u(a(e,t))},e.wbg.__wbindgen_throw=function(e,t){throw new Error(a(e,t))},e}function O(e,t){return n=e.exports,P.__wbindgen_wasm_module=t,E=null,w=null,s=null,n.__wbindgen_start(),n}async function P(e){if(n!==undefined)return n;const t=S();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}(await e,t);return O(r,o)}r.PPOM=C;r.default=P}}},{package:"$root$",file:"app/scripts/lib/ppom/ppom.js"}],[97,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSecurityAlertsAPISupportedChainIds=async function(){return s(o)},r.isSecurityAlertsAPIEnabled=function(){const e="true";return"true"===e.toString()},r.validateWithSecurityAlertsAPI=async function(e,t){return s(`${n}/${e}`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})};const n="validate",o="supportedChains";async function s(e,t){const r=function(e){const t="https://security-alerts.api.cx.metamask.io";if(!t)throw new Error("Security alerts API URL is not set");return`${t}/${e}`}(e),n=await fetch(r,t);if(!n.ok)throw new Error(`Security alerts API request failed with status: ${n.status}`);return await n.json()}}}},{package:"$root$",file:"app/scripts/lib/ppom/security-alerts-api.ts"}],[98,{"./handlers":104,"@metamask/permission-controller":2315,"@metamask/rpc-errors":2568,"@metamask/snaps-rpc-methods":2865,"@metamask/utils":3224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMethodMiddleware=r.createLegacyMethodMiddleware=void 0;var n=e("@metamask/permission-controller"),o=e("@metamask/rpc-errors"),s=e("@metamask/snaps-rpc-methods"),i=e("@metamask/utils"),a=e("./handlers");const c=[...a.handlers,...n.permissionRpcMethods.handlers];r.createMethodMiddleware=l(c),r.createLegacyMethodMiddleware=l(a.legacyHandlers);function l(e){const t=e.reduce(((e,t)=>{for(const r of t.methodNames)e[r]=t;return e}),{}),r=new Set(e.flatMap((({hookNames:e})=>Object.getOwnPropertyNames(e))));return e=>{!function(e,t){const r=[];if(t.forEach((t=>{(0,i.hasProperty)(e,t)||r.push(t)})),r.length>0)throw new Error(`Missing expected hooks:\n\n${r.join("\n")}\n`);const n=Object.getOwnPropertyNames(e).filter((e=>!t.has(e)));if(n.length>0)throw new Error(`Received unexpected hooks:\n\n${n.join("\n")}\n`)}(e,r);return async(r,n,i,a)=>{const c=t[r.method];if(c){const{implementation:t,hookNames:l}=c;try{return await t(r,n,i,a,(0,s.selectHooks)(e,l))}catch(e){return a(e instanceof Error?e:o.rpcErrors.internal({data:e}))}}return i()}}}}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/createMethodMiddleware.js"}],[99,{"../../../../shared/constants/network":5748,"@metamask/rpc-errors":2568},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnsupportedMethodMiddleware=function(){return async function(e,t,r,s){return o.UNSUPPORTED_RPC_METHODS.has(e.method)?s(n.rpcErrors.methodNotSupported()):r()}};var n=e("@metamask/rpc-errors"),o=e("../../../../shared/constants/network")}}},{package:"$root$",file:"app/scripts/lib/rpc-method-middleware/createUnsupportedMethodMiddleware.ts"}],[4,{"../../shared/constants/app":5732,"../../shared/constants/metametrics":5744,"../../shared/constants/offscreen-communication":5750,"../../shared/modules/add-nonce-to-csp":5779,"../../shared/modules/browser-runtime.utils":5784,"../../shared/modules/mv3.utils":5797,"../../shared/modules/object.utils":5799,"../../shared/modules/provider-injection":5800,"../../shared/modules/selectors/networks":5807,"../../test/e2e/background-socket/socket-background-to-mocha":5819,"../../test/e2e/default-fixture":5821,"../../test/stub/keyring-bridge":5827,"./constants/marketing-site-whitelist":6,"./constants/sentry-state":7,"./first-time-state":40,"./fixtures/generate-wallet-state":41,"./lib/createStreamSink":70,"./lib/ens-ipfs/setup":77,"./lib/get-first-preferred-lang-code":79,"./lib/getObjStructure":80,"./lib/local-store":82,"./lib/migrator":86,"./lib/network-store":88,"./lib/notification-manager":89,"./lib/setup-initial-state-hooks":114,"./lib/util":135,"./metamask-controller":136,"./migrations":295,"./offscreen":296,"./platforms/extension":297,"@metamask/notification-services-controller":2297,"@metamask/obs-store":2308,"@metamask/utils":3224,"debounce-stream":4181,events:4354,"extension-port-stream":4357,loglevel:4872,"readable-stream":5276,"webextension-polyfill":5710},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.loadStateFromPersistence=be,r.setupController=Te,r.statePersistenceEvents=void 0,e("./lib/setup-initial-state-hooks");var n=j(e("events")),o=e("readable-stream"),s=j(e("debounce-stream")),i=j(e("loglevel")),a=j(e("webextension-polyfill")),c=e("@metamask/obs-store"),l=e("@metamask/utils"),u=j(e("extension-port-stream")),d=e("@metamask/notification-services-controller"),f=e("../../shared/constants/app"),h=e("../../shared/constants/metametrics"),p=e("../../shared/modules/browser-runtime.utils"),g=e("../../shared/modules/mv3.utils"),m=e("../../shared/modules/object.utils"),E=(e("../../test/e2e/default-fixture"),e("../../test/e2e/background-socket/socket-background-to-mocha"),e("../../shared/constants/offscreen-communication"),e("../../test/stub/keyring-bridge")),_=e("../../shared/modules/selectors/networks"),b=e("../../shared/modules/add-nonce-to-csp"),y=e("../../shared/modules/provider-injection"),v=j(e("./migrations")),w=j(e("./lib/migrator")),T=j(e("./platforms/extension")),A=j(e("./lib/local-store")),C=j(e("./lib/network-store")),S=e("./constants/sentry-state"),O=j(e("./lib/createStreamSink")),P=F(e("./lib/notification-manager")),N=F(e("./metamask-controller")),R=j(e("./first-time-state")),I=j(e("./lib/get-first-preferred-lang-code")),x=j(e("./lib/getObjStructure")),k=j(e("./lib/ens-ipfs/setup")),L=e("./lib/util"),D=(e("./fixtures/generate-wallet-state"),e("./offscreen")),U=e("./constants/marketing-site-whitelist");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(M=function(e){return e?r:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=M(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function j(e){return e&&e.__esModule?e:{default:e}}const B="#0376C9",q="#D73847",H=9,G=!1,V=G?new C.default:new A.default;global.stateHooks.getMostRecentPersistedState=()=>V.mostRecentRetrievedState;const{sentry:W}=global;let z={...R.default};const $={[f.ENVIRONMENT_TYPE_POPUP]:!0,[f.ENVIRONMENT_TYPE_NOTIFICATION]:!0,[f.ENVIRONMENT_TYPE_FULLSCREEN]:!0},K=["trezor-connect"];i.default.setLevel("info",!1);const Y=new T.default,X=new P.default;let J=0,Q=!1,Z=!1;const ee={},te={};let re,ne;const oe={};G&&(global.stateHooks.metamaskGetState=V.get.bind(V));const se=new URL("https://metamask.github.io/phishing-warning/v4.1.0/"),ie=se.toString(),ae=1e3,ce=r.statePersistenceEvents=new n.default,{promise:le,resolve:ue,reject:de}=(0,L.deferredPromise)(),fe=async()=>{const e=await a.default.tabs.query({url:"<all_urls>",windowType:"normal"}).then((e=>((0,p.checkForLastErrorAndLog)(),e))).catch((()=>{(0,p.checkForLastErrorAndLog)()}));for(const t of e)a.default.tabs.sendMessage(t.id,{name:f.EXTENSION_MESSAGES.READY}).then((()=>{(0,p.checkForLastErrorAndLog)()})).catch((()=>{(0,p.checkForLastErrorAndLog)()}))};let he,pe,ge;function me(){const e=(new Date).toISOString();a.default.storage.session.set({timestamp:e})}async function Ee(){try{const t=g.isManifestV3?(0,D.createOffscreen)():null,r=await be(),n=r.data,o=await(0,I.default)();let s;if(g.isManifestV3){var e;if(!1!==(null===(e=n.PreferencesController)||void 0===e?void 0:e.enableMV3TimestampSave)){const e=2e3;me(),setInterval(me,e)}const t=await a.default.storage.session.get(["isFirstMetaMaskControllerSetup"]);s=(null==t?void 0:t.isFirstMetaMaskControllerSetup)===undefined,await a.default.storage.session.set({isFirstMetaMaskControllerSetup:s})}Te(n,o,G?{keyrings:{trezorBridge:E.FakeTrezorBridge,ledgerBridge:E.FakeLedgerBridge}}:{},s,r.meta,t),function(e){async function t(e,t){try{return await a.default.tabs.update(e,{url:t})}catch(e){return null==W?void 0:W.captureException(e)}}const r=!g.isManifestV3;a.default.webRequest.onBeforeRequest.addListener((n=>{var o,s,i;if(n.tabId===a.default.tabs.TAB_ID_NONE)return{};const{completedOnboarding:c}=e.onboardingController.state;if(!c)return{};if(!e.preferencesController.state.usePhishDetect)return{};if(n.initiator&&new URL(n.initiator).host===se.host)return{};const{hostname:l,href:u,searchParams:d}=new URL(n.url);if(G&&d.has("IN_TEST_BYPASS_EARLY_PHISHING_DETECTION"))return{};e.phishingController.maybeUpdateState();const f=e.phishingController.isBlockedRequest(n.url);let p,g;if("main_frame"!==n.type&&"sub_frame"!==n.type||(p=e.phishingController.test(n.url)),!(null!==(o=p)&&void 0!==o&&o.result||f.result))return{};let m=l;null!==(s=p)&&void 0!==s&&s.result&&f.result?g=`${p.type} and ${f.type}`:null!==(i=p)&&void 0!==i&&i.result?g=p.type:(g=f.type,m=n.initiator),e.metaMetricsController.trackEvent({event:h.MetaMetricsEventName.PhishingPageDisplayed,category:h.MetaMetricsEventCategory.Phishing,properties:{url:m,referrer:{url:m},reason:g,requestDomain:f.result?l:undefined}});const E=new URLSearchParams({hostname:l,href:u}),_=new URL(ie);_.hash=E.toString();const b=_.toString();return r?"main_frame"===n.type?{redirectUrl:b}:(t(n.tabId,b),{cancel:!0}):(t(n.tabId,b),{})}),{urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]},r?["blocking"]:[])}(re),g.isManifestV3||(await async function(){let e;try{const t=new URL(ie);let r,n;t.hash="#extensionStartup",e=window.document.createElement("iframe"),e.setAttribute("src",t.href),e.setAttribute("sandbox","allow-scripts allow-same-origin");const o=new Promise(((e,t)=>{r=e,n=t}));e.addEventListener("load",r),window.document.body.appendChild(e),setTimeout((()=>n(new _e)),ae),await o}catch(e){e instanceof _e?console.warn("Phishing warning page timeout; page not guaranteed to work offline."):console.error("Failed to initialize phishing warning page",e)}finally{e&&e.remove()}}(),(0,L.getPlatform)()===f.PLATFORM_FIREFOX&&function(){const e=btoa(a.default.runtime.getURL("/"));a.default.webRequest.onHeadersReceived.addListener((({responseHeaders:t,url:r})=>{const n=(0,y.checkURLForProviderInjection)(new URL(r)),o=re.preferencesController.state.overrideContentSecurityPolicyHeader;if(n&&o)for(const r of t)"content-security-policy"===r.name.toLowerCase()&&(r.value=(0,b.addNonceToCsp)(r.value,e));return{responseHeaders:t}}),{types:["main_frame","sub_frame"],urls:["http://*/*","https://*/*"]},["blocking","responseHeaders"])}()),await fe(),i.default.info("MetaMask initialization complete."),ue()}catch(e){de(e)}}a.default.runtime.onConnect.addListener((async(...e)=>{await le,he(...e)})),a.default.runtime.onConnectExternal.addListener((async(...e)=>{var t;await le;null!==(t=e[0].sender.tab)&&void 0!==t&&t.id,pe(...e)}));class _e extends Error{constructor(){super("Timeout failed")}}async function be(){const e=new w.default({migrations:v.default,defaultVersion:null});if(e.on("error",console.warn),ne=await V.get()||e.generateInitialState(z),ne&&!ne.data&&(ne=e.generateInitialState(z),W.captureMessage("MetaMask - Empty vault found - unable to recover")),e.on("error",(e=>{const t=(0,x.default)(ne);W.captureException(e,{extra:{vaultStructure:t}})})),ne=await e.migrateData(ne),!ne)throw new Error("MetaMask - migrator returned undefined");if(!(0,l.isObject)(ne.meta))throw new Error(`MetaMask - migrator metadata has invalid type '${typeof ne.meta}'`);if("number"!=typeof ne.meta.version)throw new Error(`MetaMask - migrator metadata version has invalid type '${typeof ne.meta.version}'`);if(!(0,l.isObject)(ne.data))throw new Error(`MetaMask - migrator data has invalid type '${typeof ne.data}'`);return V.setMetadata(ne.meta),V.set(ne.data),ne}function ye(e){var t;const{metaMetricsId:r}=re.metaMetricsController.state;if(!(0,L.shouldEmitDappViewedEvent)(r))return;const n=re.controllerMessenger.call("PermissionController:getPermissions",e),o=null==n||null===(t=n.eth_accounts)||void 0===t||null===(t=t.caveats[0])||void 0===t?void 0:t.value.length;if(!o)return;const s=re.controllerMessenger.call("PreferencesController:getState"),i=Object.keys(s.identities).length;re.metaMetricsController.trackEvent({event:h.MetaMetricsEventName.DappViewed,category:h.MetaMetricsEventCategory.InpageProvider,referrer:{url:e},properties:{is_first_visit:!1,number_of_accounts:i,number_of_accounts_connected:o}})}function ve(e){if(!e.sender||!e.sender.tab||!e.sender.url)return;const t=e.sender.tab.id,r=new URL(e.sender.url),{origin:n}=r;Object.keys(oe).includes(t)||(oe[t]=n);const o=re.controllerMessenger.call("PermissionController:hasPermissions",n),s="New Tab"!==e.sender.tab.title;o&&s&&ye(n)}function we(e){const t=[f.ENVIRONMENT_TYPE_POPUP,f.ENVIRONMENT_TYPE_NOTIFICATION,f.ENVIRONMENT_TYPE_FULLSCREEN];!(Object.values(ee).some(Boolean)||Q||J>0)&&t.includes(e)&&function(){const{metaMetricsId:e,participateInMetaMetrics:t}=re.metaMetricsController.state;(null!==e||t)&&re.metaMetricsController.trackEvent({event:h.MetaMetricsEventName.AppOpened,category:h.MetaMetricsEventCategory.App})}()}function Te(e,t,r,n,l,p){var E;re=new N.default({infuraProjectId:"b6bf7d3508c941499b10025c0776eaf8",showUserConfirmation:Ae,initState:e,initLangCode:t,platform:Y,notificationManager:X,browser:a.default,getRequestAccountTabIds:()=>te,getOpenMetamaskTabsIds:()=>ee,localStore:V,overrides:r,isFirstMetaMaskControllerSetup:n,currentMigrationVersion:l.version,featureFlags:{},offscreenPromise:p}),(0,k.default)({getCurrentChainId:()=>(0,_.getCurrentChainId)({metamask:re.networkController.state}),getIpfsGateway:re.preferencesController.getIpfsGateway.bind(re.preferencesController),getUseAddressBarEnsResolution:()=>re.preferencesController.state.useAddressBarEnsResolution,provider:re.provider}),(0,o.pipeline)((0,c.storeAsStream)(re.store),(0,s.default)(1e3),(0,O.default)((async e=>{await V.set(e),ce.emit("state-persisted",e)})),(e=>{i.default.error("MetaMask - Persistence pipeline failed",e)})),E=re,global.stateHooks.getSentryAppState=function(){const e=E.memStore.getState();return(0,m.maskObject)(e,S.SENTRY_BACKGROUND_STATE)};const b=()=>J>0||Boolean(Object.keys(ee).length)||Q,y=(e,t)=>{if(!1===e)re.onClientClosed();else{if(t===f.ENVIRONMENT_TYPE_FULLSCREEN&&Boolean(Object.keys(ee).length))return;re.onEnvironmentTypeClosed(t)}};function v(e,t){return e>t?`${t}+`:String(e)}function w(){const e=T(),t=function(){try{const{isNotificationServicesEnabled:e,isFeatureAnnouncementsEnabled:t}=re.notificationServicesController.state,r=Object.values(re.notificationServicesController.state.metamaskNotificationsList).filter((e=>e.type===d.NotificationServicesController.Constants.TRIGGER_TYPES.SNAP&&null===e.readDate)).length,n=t?re.notificationServicesController.state.metamaskNotificationsList.filter((e=>!e.isRead&&e.type===d.NotificationServicesController.Constants.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT)).length:0,o=e?re.notificationServicesController.state.metamaskNotificationsList.filter((e=>!e.isRead&&e.type!==d.NotificationServicesController.Constants.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&e.type!==d.NotificationServicesController.Constants.TRIGGER_TYPES.SNAP)).length:0;return r+n+o}catch(e){return console.error("Failed to get unread notifications count:",e),0}}();let r="",n=B;e?r=v(e,H):t>0&&(r=v(t,H),n=q);try{const e={text:r},t={color:n};g.isManifestV3?(a.default.action.setBadgeText(e),a.default.action.setBadgeBackgroundColor(t)):(a.default.browserAction.setBadgeText(e),a.default.browserAction.setBadgeBackgroundColor(t))}catch(e){console.error("Error updating browser badge:",e)}}function T(){try{let e=re.appStateController.waitingForUnlock.length+re.approvalController.getTotalApprovalCount();return e+=re.queuedRequestController.state.queuedRequestCount,e}catch(e){return console.error("Failed to get pending approval count:",e),0}}he=async e=>{var t;const n=e.name;if(K.includes(e.name))return;let s=!1;const c=(0,L.getPlatform)(),l=null!==(t=e.sender)&&void 0!==t&&t.url?new URL(e.sender.url):null;if(s=c===f.PLATFORM_FIREFOX?$[n]:(null==l?void 0:l.origin)===`chrome-extension://${a.default.runtime.id}`,s){var d;const t=(null==r||null===(d=r.getPortStream)||void 0===d?void 0:d.call(r,e))||new u.default(e);if(re.isClientOpen=!0,re.setupTrustedCommunication(t,e.sender),we(n),async function(){try{await re.remoteFeatureFlagController.updateRemoteFeatureFlags()}catch(e){i.default.error("Error initializing remote feature flags:",e)}}(),n===f.ENVIRONMENT_TYPE_POPUP&&(J+=1,(0,o.finished)(t,(()=>{J-=1;const e=b();re.isClientOpen=e,y(e,f.ENVIRONMENT_TYPE_POPUP)}))),n===f.ENVIRONMENT_TYPE_NOTIFICATION&&(Q=!0,(0,o.finished)(t,(()=>{Q=!1;const e=b();re.isClientOpen=e,y(e,f.ENVIRONMENT_TYPE_NOTIFICATION)}))),n===f.ENVIRONMENT_TYPE_FULLSCREEN){const r=e.sender.tab.id;ee[r]=!0,(0,o.finished)(t,(()=>{delete ee[r];const e=b();re.isClientOpen=e,y(e,f.ENVIRONMENT_TYPE_FULLSCREEN)}))}}else if(l&&l.origin===se.origin&&l.pathname===se.pathname){var h;const t=(null==r||null===(h=r.getPortStream)||void 0===h?void 0:h.call(r,e))||new u.default(e);re.setupPhishingCommunication({connectionStream:t})}else{if(e.sender&&e.sender.tab&&e.sender.url){const t=e.sender.tab.id,r=new URL(e.sender.url),{origin:n}=r;ve(e),e.onMessage.addListener((e=>{e.data&&e.data.method===f.MESSAGE_TYPE.ETH_REQUEST_ACCOUNTS&&(te[n]=t)}))}if(l&&U.COOKIE_ID_MARKETING_WHITELIST_ORIGINS.some((e=>e===l.origin))){var p;const t=(null==r||null===(p=r.getPortStream)||void 0===p?void 0:p.call(r,e))||new u.default(e);re.setUpCookieHandlerCommunication({connectionStream:t})}pe(e)}},pe=e=>{var t;const n=(null==r||null===(t=r.getPortStream)||void 0===t?void 0:t.call(r,e))||new u.default(e);re.setupUntrustedCommunicationEip1193({connectionStream:n,sender:e.sender})},ge=async e=>{var t;if(K.includes(e.name))return;e.sender&&e.sender.tab&&e.sender.url&&ve(e);const n=(null==r||null===(t=r.getPortStream)||void 0===t?void 0:t.call(r,e))||new u.default(e);re.setupUntrustedCommunicationCaip({connectionStream:n,sender:e.sender})},null!=r&&r.registerConnectListeners&&r.registerConnectListeners(he,pe),w(),re.decryptMessageController.hub.on(N.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,w),re.encryptionPublicKeyController.hub.on(N.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,w),re.signatureController.hub.on(N.METAMASK_CONTROLLER_EVENTS.UPDATE_BADGE,w),re.controllerMessenger.subscribe(N.METAMASK_CONTROLLER_EVENTS.APP_STATE_UNLOCK_CHANGE,w),re.controllerMessenger.subscribe(N.METAMASK_CONTROLLER_EVENTS.APPROVAL_STATE_CHANGE,w),re.controllerMessenger.subscribe(N.METAMASK_CONTROLLER_EVENTS.QUEUED_REQUEST_STATE_CHANGE,w),re.controllerMessenger.subscribe(N.METAMASK_CONTROLLER_EVENTS.METAMASK_NOTIFICATIONS_LIST_UPDATED,w),re.controllerMessenger.subscribe(N.METAMASK_CONTROLLER_EVENTS.METAMASK_NOTIFICATIONS_MARK_AS_READ,w),X.on(P.NOTIFICATION_MANAGER_EVENTS.POPUP_CLOSED,(({automaticallyClosed:e})=>{e?T()>0&&Ae():(re.signatureController.rejectUnapproved(h.REJECT_NOTIFICATION_CLOSE_SIG),re.decryptMessageController.rejectUnapproved(h.REJECT_NOTIFICATION_CLOSE),re.encryptionPublicKeyController.rejectUnapproved(h.REJECT_NOTIFICATION_CLOSE),re.rejectAllPendingApprovals()),w()})),Object.values(re.snapController.state.snaps).some((e=>!e.preinstalled))&&re.snapController.updateBlockedSnaps()}async function Ae(){const e=await Y.getActiveTabs(),t=Boolean(e.find((e=>ee[e.id]))),r=e.length>0&&e[0].extData&&e[0].extData.indexOf("vivaldi_tab")>-1;if(!Z&&(r||0===J)&&!t){Z=!0;try{const e=re.appStateController.getCurrentPopupId();await X.showPopup((e=>re.appStateController.setCurrentPopupId(e)),e)}finally{Z=!1}}}const Ce=()=>{if(re)return re.metaMetricsController.updateTraits({[h.MetaMetricsUserTrait.InstallDateExt]:(new Date).toISOString().split("T")[0]}),void re.metaMetricsController.addEventBeforeMetricsOptIn({category:h.MetaMetricsEventCategory.App,event:h.MetaMetricsEventName.AppInstalled,properties:{}});setTimeout((()=>{Ce()}),500)};async function Se(){Boolean(await V.get())||(Ce(),Y.openExtensionInBrowser()),a.default.tabs.onActivated.addListener((e=>{if(re){const{tabId:t}=e,r=oe[t];r&&re.permissionController.state.subjects[r]!==undefined&&ye(r)}}))}(async function(){await Se();try{await Ee(),V.cleanUpMostRecentRetrievedState()}catch(e){i.default.error(e)}})()}}},{package:"$root$",file:"app/scripts/background.js"}]],[4],{});